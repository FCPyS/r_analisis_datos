<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.269">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>R para el análisis estadístico de datos - 3&nbsp; Revisión de elementos estadísticos básicos</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./videos.html" rel="next">
<link href="./P2.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>


</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
    <div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Revisión de elementos estadísticos básicos</span></h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">R para el análisis estadístico de datos</a> 
        <div class="sidebar-tools-main">
    <a href="https://github.com/fcpys/r_analisis_datos/" title="Source Code" class="sidebar-tool px-1"><i class="bi bi-github"></i></a>
  <a href="" class="quarto-color-scheme-toggle sidebar-tool" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
    </div>
      </div>
      <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">Sobre el curso</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./instala.html" class="sidebar-item-text sidebar-link">Instalación de R y Rstudio</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./P1.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Primer acercamiento al uso del programa</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./P2.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Manejo de datos: importación, selección y revisión</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./P3.html" class="sidebar-item-text sidebar-link active"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Revisión de elementos estadísticos básicos</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./videos.html" class="sidebar-item-text sidebar-link">Videos y extras</a>
  </div>
</li>
    </ul>
    </div>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#análisis-descriptivo" id="toc-análisis-descriptivo" class="nav-link active" data-scroll-target="#análisis-descriptivo"><span class="toc-section-number">3.1</span>  Análisis descriptivo</a></li>
  <li><a href="#datos" id="toc-datos" class="nav-link" data-scroll-target="#datos"><span class="toc-section-number">3.2</span>  Datos</a>
  <ul class="collapse">
  <li><a href="#variables-nominales" id="toc-variables-nominales" class="nav-link" data-scroll-target="#variables-nominales"><span class="toc-section-number">3.2.1</span>  Variables nominales</a></li>
  <li><a href="#recordemos-nuestro-etiquetado" id="toc-recordemos-nuestro-etiquetado" class="nav-link" data-scroll-target="#recordemos-nuestro-etiquetado"><span class="toc-section-number">3.2.2</span>  Recordemos nuestro etiquetado</a></li>
  <li><a href="#variables-ordinales" id="toc-variables-ordinales" class="nav-link" data-scroll-target="#variables-ordinales"><span class="toc-section-number">3.2.3</span>  Variables ordinales</a></li>
  <li><a href="#bivariado-cualitativo" id="toc-bivariado-cualitativo" class="nav-link" data-scroll-target="#bivariado-cualitativo"><span class="toc-section-number">3.2.4</span>  Bivariado cualitativo</a></li>
  </ul></li>
  <li><a href="#factores-de-expansión-y-algunas-otras-medidas" id="toc-factores-de-expansión-y-algunas-otras-medidas" class="nav-link" data-scroll-target="#factores-de-expansión-y-algunas-otras-medidas"><span class="toc-section-number">3.3</span>  Factores de expansión y algunas otras medidas</a>
  <ul class="collapse">
  <li><a href="#la-función-tally" id="toc-la-función-tally" class="nav-link" data-scroll-target="#la-función-tally"><span class="toc-section-number">3.3.1</span>  La función <code>tally()</code></a></li>
  <li><a href="#con-dplyrcount" id="toc-con-dplyrcount" class="nav-link" data-scroll-target="#con-dplyrcount"><span class="toc-section-number">3.3.2</span>  Con <code>dplyr::count()</code></a></li>
  <li><a href="#con-pollster" id="toc-con-pollster" class="nav-link" data-scroll-target="#con-pollster"><span class="toc-section-number">3.3.3</span>  con <code>{pollster}</code></a></li>
  </ul></li>
  <li><a href="#descriptivos-para-variables-cuantitativas" id="toc-descriptivos-para-variables-cuantitativas" class="nav-link" data-scroll-target="#descriptivos-para-variables-cuantitativas"><span class="toc-section-number">3.4</span>  Descriptivos para variables cuantitativas</a>
  <ul class="collapse">
  <li><a href="#medidas-numéricas-básicas" id="toc-medidas-numéricas-básicas" class="nav-link" data-scroll-target="#medidas-numéricas-básicas"><span class="toc-section-number">3.4.1</span>  Medidas numéricas básicas</a></li>
  <li><a href="#histograma-básico" id="toc-histograma-básico" class="nav-link" data-scroll-target="#histograma-básico"><span class="toc-section-number">3.4.2</span>  Histograma básico</a></li>
  </ul></li>
  <li><a href="#recodificación-de-variables" id="toc-recodificación-de-variables" class="nav-link" data-scroll-target="#recodificación-de-variables"><span class="toc-section-number">3.5</span>  Recodificación de variables</a>
  <ul class="collapse">
  <li><a href="#dplyrif_else" id="toc-dplyrif_else" class="nav-link" data-scroll-target="#dplyrif_else"><span class="toc-section-number">3.5.1</span>  <code>dplyr::if_else()</code></a></li>
  <li><a href="#dplyrcase_when" id="toc-dplyrcase_when" class="nav-link" data-scroll-target="#dplyrcase_when"><span class="toc-section-number">3.5.2</span>  <code>dplyr::case_when()</code></a></li>
  <li><a href="#dplyrrename" id="toc-dplyrrename" class="nav-link" data-scroll-target="#dplyrrename"><span class="toc-section-number">3.5.3</span>  <code>dplyr::rename()</code></a></li>
  </ul></li>
  <li><a href="#creación-de-intervalos-con-cortes" id="toc-creación-de-intervalos-con-cortes" class="nav-link" data-scroll-target="#creación-de-intervalos-con-cortes"><span class="toc-section-number">3.6</span>  Creación de intervalos con cortes</a></li>
  <li><a href="#creación-de-quintiles" id="toc-creación-de-quintiles" class="nav-link" data-scroll-target="#creación-de-quintiles"><span class="toc-section-number">3.7</span>  Creación de quintiles</a></li>
  <li><a href="#grammar-of-tables" id="toc-grammar-of-tables" class="nav-link" data-scroll-target="#grammar-of-tables"><span class="toc-section-number">3.8</span>  Grammar of tables</a></li>
  <li><a href="#at-muchas-operaciones-de-dplyr" id="toc-at-muchas-operaciones-de-dplyr" class="nav-link" data-scroll-target="#at-muchas-operaciones-de-dplyr"><span class="toc-section-number">3.9</span>  _at muchas operaciones de <code>{dplyr}</code></a>
  <ul class="collapse">
  <li><a href="#dplyrmutate_at" id="toc-dplyrmutate_at" class="nav-link" data-scroll-target="#dplyrmutate_at"><span class="toc-section-number">3.9.1</span>  <code>dplyr::mutate_at()</code></a></li>
  <li><a href="#dplyrrename_at" id="toc-dplyrrename_at" class="nav-link" data-scroll-target="#dplyrrename_at"><span class="toc-section-number">3.9.2</span>  <code>dplyr::rename_at()</code></a></li>
  </ul></li>
  <li><a href="#ejercicio-3" id="toc-ejercicio-3" class="nav-link" data-scroll-target="#ejercicio-3"><span class="toc-section-number">3.10</span>  Ejercicio 3</a></li>
  </ul>
<div class="toc-actions"><div><i class="bi bi-github"></i></div><div class="action-links"><p><a href="https://github.com/fcpys/r_analisis_datos/edit/main/P3.qmd" class="toc-action">Edit this page</a></p><p><a href="https://github.com/fcpys/r_analisis_datos/issues/new" class="toc-action">Report an issue</a></p></div></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title d-none d-lg-block"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Revisión de elementos estadísticos básicos</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<section id="análisis-descriptivo" class="level2" data-number="3.1">
<h2 data-number="3.1" class="anchored" data-anchor-id="análisis-descriptivo"><span class="header-section-number">3.1</span> Análisis descriptivo</h2>
<p>Vamos a llamar algunas paquetes que nos ayudarán en esta práctica</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">require</span>(<span class="st">"pacman"</span>)) <span class="fu">install.packages</span>(<span class="st">"pacman"</span>) <span class="co"># instala pacman si se requiere</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Cargando paquete requerido: pacman</code></pre>
</div>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>pacman<span class="sc">::</span><span class="fu">p_load</span>(tidyverse,</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>               writexl, </span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>               haven,</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>               sjlabelled, </span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>               janitor,</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>               magrittr,</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>               GGally,</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>               wesanderson,</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>               gt,</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>               pollster,</span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>               dineq</span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="datos" class="level2" data-number="3.2">
<h2 data-number="3.2" class="anchored" data-anchor-id="datos"><span class="header-section-number">3.2</span> Datos</h2>
<p>E importamos la base</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>concentradohogar <span class="ot">&lt;-</span> haven<span class="sc">::</span><span class="fu">read_sav</span>(<span class="st">"datos/concentradohogar.sav"</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="variables-nominales" class="level3" data-number="3.2.1">
<h3 data-number="3.2.1" class="anchored" data-anchor-id="variables-nominales"><span class="header-section-number">3.2.1</span> Variables nominales</h3>
<p>La variable nominal “sexo_jefe”, se captura con “1” para hombres y con un “2” para mujeres en la base de datos. Podemos establecer una operación de igual y además sumar los casos que cumplan con esta condición:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>concentradohogar <span class="sc">%&gt;%</span> </span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">count</span>(sexo_jefe<span class="sc">==</span><span class="st">"2"</span>) <span class="co"># cuentan los casos que cumplen con la condición "sexo_jefe==2"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 2
  `sexo_jefe == "2"`     n
  &lt;lgl&gt;              &lt;int&gt;
1 FALSE              61905
2 TRUE               28197</code></pre>
</div>
</div>
<p>Esto es a lo que nos referimos con contar frecuencias. Podemos contar casos que cumplan con una operación de igualdad.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>concentradohogar <span class="sc">%&gt;%</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">with</span>(</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">table</span>(sexo_jefe)</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>    )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>sexo_jefe
    1     2 
61905 28197 </code></pre>
</div>
</div>
</section>
<section id="recordemos-nuestro-etiquetado" class="level3" data-number="3.2.2">
<h3 data-number="3.2.2" class="anchored" data-anchor-id="recordemos-nuestro-etiquetado"><span class="header-section-number">3.2.2</span> Recordemos nuestro etiquetado</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>etiqueta_sex<span class="ot">&lt;-</span><span class="fu">c</span>(<span class="st">"Hombre"</span>, <span class="st">"Mujer"</span>)</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>concentradohogar<span class="ot">&lt;-</span>concentradohogar <span class="sc">%&gt;%</span> </span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">sexo_jefe=</span><span class="fu">as_numeric</span>(sexo_jefe)) <span class="sc">%&gt;%</span> <span class="co"># para quitar el "string"</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>  sjlabelled<span class="sc">::</span><span class="fu">set_labels</span>(sexo_jefe, <span class="at">labels=</span>etiqueta_sex) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>concentradohogar<span class="ot">&lt;-</span>concentradohogar <span class="sc">%&gt;%</span> </span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">clase_hog=</span><span class="fu">as_numeric</span>(clase_hog)) <span class="sc">%&gt;%</span> <span class="co"># para quitar el "string"</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>  sjlabelled<span class="sc">::</span><span class="fu">set_labels</span>(clase_hog, <span class="at">labels=</span><span class="fu">c</span>(<span class="st">"unipersonal"</span>,</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>                                             <span class="st">"nuclear"</span>, </span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>                                             <span class="st">"ampliado"</span>,</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>                                             <span class="st">"compuesto"</span>,</span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>                                             <span class="st">"corresidente"</span>)) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Con “tabyl()”” de “janitor””</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>concentradohogar <span class="sc">%&gt;%</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">sexo_jefe=</span><span class="fu">as_label</span>(sexo_jefe))  <span class="sc">%&gt;%</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>  janitor<span class="sc">::</span><span class="fu">tabyl</span>(sexo_jefe)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> sexo_jefe     n   percent
    Hombre 61905 0.6870547
     Mujer 28197 0.3129453</code></pre>
</div>
</div>
<p>Para ver que esto es una distribución de frecuencias sería muy útil ver la proporción total, ello se realiza agregando un elemento más en nuestro código con una “tubería”:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>concentradohogar <span class="sc">%&gt;%</span> </span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">sexo_jefe=</span><span class="fu">as_label</span>(sexo_jefe))  <span class="sc">%&gt;%</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>  janitor<span class="sc">::</span><span class="fu">tabyl</span>(sexo_jefe) <span class="sc">%&gt;%</span> </span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>  janitor<span class="sc">::</span><span class="fu">adorn_totals</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> sexo_jefe     n   percent
    Hombre 61905 0.6870547
     Mujer 28197 0.3129453
     Total 90102 1.0000000</code></pre>
</div>
</div>
<p>Hoy revisamos algunos tipos de variables</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(concentradohogar<span class="sc">$</span>sexo_jefe) <span class="co"># variable sin etiqueta</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "numeric"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(<span class="fu">as_label</span>(concentradohogar<span class="sc">$</span>sexo_jefe)) <span class="co"># variable con etiqueta</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "factor"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(<span class="fu">as_label</span>(concentradohogar<span class="sc">$</span>educa_jefe)) <span class="co"># variable ordinal</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "factor"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(concentradohogar<span class="sc">$</span>ing_cor) <span class="co"># variable de intervalo/razón</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "numeric"</code></pre>
</div>
</div>
<p>En general, tendremos variables de factor que podrían ser consideradas como cualitativas y numéricas. Aunque en realidad, R tiene muchas formas de almacenamiento. Como mostramos con el comando “glimpse()” en la práctica anterior, podemos revisar una variable en específico:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>dplyr<span class="sc">::</span><span class="fu">glimpse</span>(concentradohogar<span class="sc">$</span>sexo_jefe)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> num [1:90102] 2 1 1 1 1 1 2 2 2 1 ...
 - attr(*, "labels")= Named num [1:2] 1 2
  ..- attr(*, "names")= chr [1:2] "Hombre" "Mujer"
 - attr(*, "label")= chr "Sexo del jefe del hogar"</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>concentradohogar <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">sexo_jefe=</span><span class="fu">as_label</span>(sexo_jefe)) <span class="sc">%&gt;%</span> <span class="co"># cambia los valores de la variable a sus etiquetas</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>                <span class="fu">tabyl</span>(sexo_jefe) <span class="sc">%&gt;%</span> <span class="co"># para hacer la tabla</span></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>                <span class="fu">adorn_totals</span>() <span class="sc">%&gt;%</span> <span class="co"># añade totales</span></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>                <span class="fu">adorn_pct_formatting</span>()  <span class="co"># nos da porcentaje en lugar de proporción</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> sexo_jefe     n percent
    Hombre 61905   68.7%
     Mujer 28197   31.3%
     Total 90102  100.0%</code></pre>
</div>
</div>
<p>La tubería o “pipe” <code>%&gt;%</code> nos permite ir agregando elementos de manera sencilla nuestros comandos. En este caso decimos que dentro del objeto haga el cambio, luego la tabla, que le ponga porcentajes y finalmente que nos dé los totales.</p>
</section>
<section id="variables-ordinales" class="level3" data-number="3.2.3">
<h3 data-number="3.2.3" class="anchored" data-anchor-id="variables-ordinales"><span class="header-section-number">3.2.3</span> Variables ordinales</h3>
<p>Son variables que dan cuenta de cualidades o condiciones a través de categorías que guardan un orden entre sí.</p>
<p>Vamos a darle una “ojeada” a esta variable</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(concentradohogar<span class="sc">$</span>educa_jefe)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> chr+lbl [1:90102] 03, 08, 10, 11, 08, 08, 10, 06, 10, 04, 06, 08, 10, 11, ...
 @ label        : chr "Educación formal del jefe del hogar"
 @ format.spss  : chr "A2"
 @ display_width: int 6
 @ labels       : Named chr [1:11] "10" "01" "11" "02" ...
  ..- attr(*, "names")= chr [1:11] "Profesional completa" "Sin instrucción" "Posgrado" "Preescolar" ...</code></pre>
</div>
</div>
<p>Etiquetemos también nuestra variable ordinal</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>concentradohogar <span class="ot">&lt;-</span>concentradohogar <span class="sc">%&gt;%</span> </span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">educa_jefe=</span><span class="fu">as_numeric</span>(educa_jefe)) <span class="sc">%&gt;%</span> </span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">set_labels</span>(educa_jefe,</span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>             <span class="at">labels=</span><span class="fu">c</span>(<span class="st">"Sin instrucción"</span>, </span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a>                      <span class="st">"Preescolar"</span>,</span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a>                      <span class="st">"Primaria incompleta"</span>,</span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a>                      <span class="st">"Primaria completa"</span>,</span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a>                      <span class="st">"Secundaria incompleta"</span>,</span>
<span id="cb29-9"><a href="#cb29-9" aria-hidden="true" tabindex="-1"></a>                      <span class="st">"Secundaria completa"</span>,</span>
<span id="cb29-10"><a href="#cb29-10" aria-hidden="true" tabindex="-1"></a>                      <span class="st">"Preparatoria incompleta"</span>,</span>
<span id="cb29-11"><a href="#cb29-11" aria-hidden="true" tabindex="-1"></a>                      <span class="st">"Preparatoria completa"</span>,</span>
<span id="cb29-12"><a href="#cb29-12" aria-hidden="true" tabindex="-1"></a>                      <span class="st">"Profesional incompleta"</span>,</span>
<span id="cb29-13"><a href="#cb29-13" aria-hidden="true" tabindex="-1"></a>                      <span class="st">"Profesional completa"</span>,</span>
<span id="cb29-14"><a href="#cb29-14" aria-hidden="true" tabindex="-1"></a>                      <span class="st">"Posgrado"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Hoy hacemos la tabla, con las etiquetas y vemos que se ve más bonita:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>concentradohogar <span class="sc">%&gt;%</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">educa_jefe=</span><span class="fu">as_label</span>(educa_jefe)) <span class="sc">%&gt;%</span> </span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tabyl</span>(educa_jefe)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>              educa_jefe     n     percent
         Sin instrucción  5495 0.060986438
              Preescolar    32 0.000355153
     Primaria incompleta 13328 0.147921245
       Primaria completa 14928 0.165678897
   Secundaria incompleta  2728 0.030276797
     Secundaria completa 24581 0.272813034
 Preparatoria incompleta  3032 0.033650751
   Preparatoria completa 11782 0.130762913
  Profesional incompleta  2645 0.029355619
    Profesional completa  9788 0.108632439
                Posgrado  1763 0.019566713</code></pre>
</div>
</div>
<p>Para que no nos salgan las categorías sin datos podemos <em>apagar</em> la opción <code>show_missing_levels=F</code> dentro del comando “tabyl()”</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>concentradohogar <span class="sc">%&gt;%</span> </span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">educa_jefe=</span><span class="fu">as_label</span>(educa_jefe)) <span class="sc">%&gt;%</span> </span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tabyl</span>(educa_jefe, <span class="at">show_missing_levels=</span>F ) <span class="sc">%&gt;%</span> <span class="co"># esta opción elimina los valores con 0</span></span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">adorn_totals</span>()  </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>              educa_jefe     n     percent
         Sin instrucción  5495 0.060986438
              Preescolar    32 0.000355153
     Primaria incompleta 13328 0.147921245
       Primaria completa 14928 0.165678897
   Secundaria incompleta  2728 0.030276797
     Secundaria completa 24581 0.272813034
 Preparatoria incompleta  3032 0.033650751
   Preparatoria completa 11782 0.130762913
  Profesional incompleta  2645 0.029355619
    Profesional completa  9788 0.108632439
                Posgrado  1763 0.019566713
                   Total 90102 1.000000000</code></pre>
</div>
</div>
</section>
<section id="bivariado-cualitativo" class="level3" data-number="3.2.4">
<h3 data-number="3.2.4" class="anchored" data-anchor-id="bivariado-cualitativo"><span class="header-section-number">3.2.4</span> Bivariado cualitativo</h3>
<section id="cálculo-de-frecuencias" class="level4" data-number="3.2.4.1">
<h4 data-number="3.2.4.1" class="anchored" data-anchor-id="cálculo-de-frecuencias"><span class="header-section-number">3.2.4.1</span> Cálculo de frecuencias</h4>
<p>Las tablas de doble entrada tiene su nombre porque en las columnas entran los valores de una variable categórica, y en las filas de una segunda. Básicamente es como hacer un conteo de todas las combinaciones posibles entre los valores de una variable con la otra.</p>
<p>Por ejemplo, si quisiéramos combinar las dos variables que ya estudiamos lo podemos hacer, con una tabla de doble entrada:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>concentradohogar <span class="sc">%&gt;%</span> </span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">clase_hog=</span><span class="fu">as_label</span>(clase_hog)) <span class="sc">%&gt;%</span> </span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">sexo_jefe=</span><span class="fu">as_label</span>(sexo_jefe)) <span class="sc">%&gt;%</span> <span class="co"># para que las lea como factor</span></span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a>                <span class="fu">tabyl</span>(clase_hog, sexo_jefe, <span class="at">show_missing_levels=</span>F ) <span class="sc">%&gt;%</span> <span class="co"># incluimos aquí </span></span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a>                <span class="fu">adorn_totals</span>()  </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    clase_hog Hombre Mujer
  unipersonal   6519  5367
      nuclear  41919 13621
     ampliado  12898  8888
    compuesto    372   211
 corresidente    197   110
        Total  61905 28197</code></pre>
</div>
</div>
<p>Observamos que en cada celda confluyen los casos que comparten las mismas características:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>concentradohogar <span class="sc">%&gt;%</span>   </span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">count</span>(clase_hog<span class="sc">==</span><span class="dv">1</span> <span class="sc">&amp;</span> sexo_jefe<span class="sc">==</span><span class="dv">1</span>) <span class="co"># nos da la segunda celda de la izquierda</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 2
  `clase_hog == 1 &amp; sexo_jefe == 1`     n
  &lt;lgl&gt;                             &lt;int&gt;
1 FALSE                             83583
2 TRUE                               6519</code></pre>
</div>
</div>
</section>
<section id="totales-y-porcentajes" class="level4" data-number="3.2.4.2">
<h4 data-number="3.2.4.2" class="anchored" data-anchor-id="totales-y-porcentajes"><span class="header-section-number">3.2.4.2</span> Totales y porcentajes</h4>
<p>De esta manera se colocan todos los datos. Si observa al poner la función “adorn_totals()” lo agregó como una nueva fila de totales, pero también podemos pedirle que agregue una columna de totales.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>concentradohogar <span class="sc">%&gt;%</span> </span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">clase_hog=</span><span class="fu">as_label</span>(clase_hog)) <span class="sc">%&gt;%</span> </span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">sexo_jefe=</span><span class="fu">as_label</span>(sexo_jefe)) <span class="sc">%&gt;%</span> <span class="co"># para que las lea como factor</span></span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tabyl</span>(clase_hog, sexo_jefe, <span class="at">show_missing_levels=</span>F ) <span class="sc">%&gt;%</span> <span class="co"># incluimos aquí dos variables</span></span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">adorn_totals</span>(<span class="st">"col"</span>)  </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    clase_hog Hombre Mujer Total
  unipersonal   6519  5367 11886
      nuclear  41919 13621 55540
     ampliado  12898  8888 21786
    compuesto    372   211   583
 corresidente    197   110   307</code></pre>
</div>
</div>
<p>O bien agregar los dos, introduciendo en el argumento <code>c("col", "row")</code> un vector de caracteres de las dos opciones requeridas:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>concentradohogar <span class="sc">%&gt;%</span> </span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">clase_hog =</span> <span class="fu">as_label</span>(clase_hog)) <span class="sc">%&gt;%</span> </span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">sexo_jefe =</span> <span class="fu">as_label</span>(sexo_jefe)) <span class="sc">%&gt;%</span> <span class="co"># para que las lea como factor</span></span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tabyl</span>(clase_hog, sexo_jefe, <span class="at">show_missing_levels =</span> F ) <span class="sc">%&gt;%</span> <span class="co"># incluimos aquí dos variable</span></span>
<span id="cb40-5"><a href="#cb40-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">adorn_totals</span>(<span class="fu">c</span>(<span class="st">"col"</span>, <span class="st">"row"</span>)) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    clase_hog Hombre Mujer Total
  unipersonal   6519  5367 11886
      nuclear  41919 13621 55540
     ampliado  12898  8888 21786
    compuesto    372   211   583
 corresidente    197   110   307
        Total  61905 28197 90102</code></pre>
</div>
</div>
<p>Del mismo modo, podemos calcular los porcentajes. Pero los podemos calcular de tres formas. Uno es que lo calculemos para los totales calculados para las filas, para las columnas o para el gran total poblacional.</p>
<p>Para columnas tenemos el siguiente código y los siguientes resultados:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>concentradohogar <span class="sc">%&gt;%</span> </span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">clase_hog =</span> <span class="fu">as_label</span>(clase_hog)) <span class="sc">%&gt;%</span> </span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">sexo_jefe =</span> <span class="fu">as_label</span>(sexo_jefe)) <span class="sc">%&gt;%</span> <span class="co"># para que las lea como factor</span></span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tabyl</span>(clase_hog, sexo_jefe, <span class="at">show_missing_levels =</span> F ) <span class="sc">%&gt;%</span> <span class="co"># incluimos aquí dos variable</span></span>
<span id="cb42-5"><a href="#cb42-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">adorn_totals</span>(<span class="fu">c</span>(<span class="st">"col"</span>, <span class="st">"row"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb42-6"><a href="#cb42-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">adorn_percentages</span>(<span class="st">"col"</span>) <span class="sc">%&gt;%</span> <span class="co"># Divide los valores entre el total de la columna</span></span>
<span id="cb42-7"><a href="#cb42-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">adorn_pct_formatting</span>() <span class="co"># lo vuelve porcentaje</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    clase_hog Hombre  Mujer  Total
  unipersonal  10.5%  19.0%  13.2%
      nuclear  67.7%  48.3%  61.6%
     ampliado  20.8%  31.5%  24.2%
    compuesto   0.6%   0.7%   0.6%
 corresidente   0.3%   0.4%   0.3%
        Total 100.0% 100.0% 100.0%</code></pre>
</div>
</div>
<p>Cuando se hagan cuadros de distribuciones (que todas sus partes suman 100), los porcentajes pueden ser una gran ayuda para la interpretación, sobre todos cuando se comparar poblaciones de categorías de diferente tamaño. Por lo general, queremos que los cuadros nos den información de donde están los totales y su 100%, de esta manera el lector se puede guiar de porcentaje con respecto a qué está leyendo. En este caso, vemos que el 100% es común en la última fila.</p>
<p>Veamos la diferencia de cómo podemos leer la misma celda, pero hoy, hemos calculado los porcentajes a nivel de fila:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>concentradohogar <span class="sc">%&gt;%</span> </span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">clase_hog =</span> <span class="fu">as_label</span>(clase_hog)) <span class="sc">%&gt;%</span> </span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">sexo_jefe =</span> <span class="fu">as_label</span>(sexo_jefe)) <span class="sc">%&gt;%</span> <span class="co"># para que las lea como factor</span></span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tabyl</span>(clase_hog, sexo_jefe, <span class="at">show_missing_levels =</span> F ) <span class="sc">%&gt;%</span> <span class="co"># incluimos aquí dos variable</span></span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">adorn_totals</span>(<span class="fu">c</span>(<span class="st">"col"</span>, <span class="st">"row"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb44-6"><a href="#cb44-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">adorn_percentages</span>(<span class="st">"row"</span>) <span class="sc">%&gt;%</span> <span class="co"># Divide los valores entre el total de la fila</span></span>
<span id="cb44-7"><a href="#cb44-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">adorn_pct_formatting</span>() <span class="co"># lo vuelve porcentaje</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    clase_hog Hombre Mujer  Total
  unipersonal  54.8% 45.2% 100.0%
      nuclear  75.5% 24.5% 100.0%
     ampliado  59.2% 40.8% 100.0%
    compuesto  63.8% 36.2% 100.0%
 corresidente  64.2% 35.8% 100.0%
        Total  68.7% 31.3% 100.0%</code></pre>
</div>
</div>
<p>Finalmente, podemos calcular los porcentajes con referencia a la población total en análisis. Es decir la celda en la esquina inferior derecha de nuestra tabla original.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>concentradohogar <span class="sc">%&gt;%</span> </span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">clase_hog =</span> <span class="fu">as_label</span>(clase_hog)) <span class="sc">%&gt;%</span> </span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">sexo_jefe =</span> <span class="fu">as_label</span>(sexo_jefe)) <span class="sc">%&gt;%</span> <span class="co"># para que las lea como factor</span></span>
<span id="cb46-4"><a href="#cb46-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tabyl</span>(clase_hog, sexo_jefe, <span class="at">show_missing_levels =</span> F ) <span class="sc">%&gt;%</span> <span class="co"># incluimos aquí dos variable</span></span>
<span id="cb46-5"><a href="#cb46-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">adorn_totals</span>(<span class="fu">c</span>(<span class="st">"col"</span>, <span class="st">"row"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb46-6"><a href="#cb46-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">adorn_percentages</span>(<span class="st">"all"</span>) <span class="sc">%&gt;%</span> <span class="co"># Divide los valores entre el total de la población</span></span>
<span id="cb46-7"><a href="#cb46-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">adorn_pct_formatting</span>() <span class="co"># lo vuelve porcentaje</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    clase_hog Hombre Mujer  Total
  unipersonal   7.2%  6.0%  13.2%
      nuclear  46.5% 15.1%  61.6%
     ampliado  14.3%  9.9%  24.2%
    compuesto   0.4%  0.2%   0.6%
 corresidente   0.2%  0.1%   0.3%
        Total  68.7% 31.3% 100.0%</code></pre>
</div>
</div>
</section>
</section>
</section>
<section id="factores-de-expansión-y-algunas-otras-medidas" class="level2" data-number="3.3">
<h2 data-number="3.3" class="anchored" data-anchor-id="factores-de-expansión-y-algunas-otras-medidas"><span class="header-section-number">3.3</span> Factores de expansión y algunas otras medidas</h2>
<section id="la-función-tally" class="level3" data-number="3.3.1">
<h3 data-number="3.3.1" class="anchored" data-anchor-id="la-función-tally"><span class="header-section-number">3.3.1</span> La función <code>tally()</code></h3>
<p>El comando <code>tabyl()</code> del paquete <code>{janitor}</code> es muy útil pero no es compatible con los factores del expansión. En realidad, <code>tabyl()</code> nos ahorra un poco el hecho de tener que agrupar nuestra base en categorías y luego hacer un conteo para cada una de ellas. <code>tally()</code> es un comando que nos hace ese conteo y <code>group_by()</code> nos agrupa las observaciones de nuestra base de datos para hacer cualquier operación.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a>concentradohogar <span class="sc">%&gt;%</span> </span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a> <span class="fu">group_by</span>(<span class="fu">as_label</span>(sexo_jefe)) <span class="sc">%&gt;%</span> </span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tally</span>(factor) <span class="sc">%&gt;%</span> <span class="co">#nombre del factor</span></span>
<span id="cb48-4"><a href="#cb48-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">adorn_totals</span>()  <span class="co"># Agrega total</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> as_label(sexo_jefe)        n
              Hombre 25397559
               Mujer 12162564
               Total 37560123</code></pre>
</div>
</div>
<p>Podemos usar funciones de <code>adorns...</code> de `{janitor}</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a>concentradohogar <span class="sc">%&gt;%</span> </span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a> <span class="fu">group_by</span>(<span class="fu">as_label</span>(sexo_jefe)) <span class="sc">%&gt;%</span> </span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tally</span>(factor) <span class="sc">%&gt;%</span> <span class="co">#nombre del factor</span></span>
<span id="cb50-4"><a href="#cb50-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">adorn_totals</span>() <span class="sc">%&gt;%</span> <span class="co"># Agrega total</span></span>
<span id="cb50-5"><a href="#cb50-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">adorn_percentages</span>(<span class="st">"all"</span>)  <span class="sc">%&gt;%</span> </span>
<span id="cb50-6"><a href="#cb50-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">adorn_pct_formatting</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> as_label(sexo_jefe)      n
              Hombre  67.6%
               Mujer  32.4%
               Total 100.0%</code></pre>
</div>
</div>
</section>
<section id="con-dplyrcount" class="level3" data-number="3.3.2">
<h3 data-number="3.3.2" class="anchored" data-anchor-id="con-dplyrcount"><span class="header-section-number">3.3.2</span> Con <code>dplyr::count()</code></h3>
<p>La función <code>count()</code> también permite dar pesos a la operaciones de frecuencias, con el argumento <code>wt =</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a>concentradohogar <span class="sc">%&gt;%</span> </span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(sexo_jefe, clase_hog,  <span class="at">wt =</span> factor) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 10 × 3
   sexo_jefe clase_hog        n
       &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt;
 1         1         1  2560548
 2         1         2 17303329
 3         1         3  5324985
 4         1         4   132517
 5         1         5    76180
 6         2         1  2316541
 7         2         2  5769256
 8         2         3  3932043
 9         2         4    96921
10         2         5    47803</code></pre>
</div>
</div>
<p>Es compatible con etiquetas</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a>concentradohogar <span class="sc">%&gt;%</span> </span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(<span class="fu">as_label</span>(sexo_jefe), <span class="fu">as_label</span>(clase_hog),  <span class="at">wt =</span> factor) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 10 × 3
   `as_label(sexo_jefe)` `as_label(clase_hog)`        n
   &lt;fct&gt;                 &lt;fct&gt;                    &lt;dbl&gt;
 1 Hombre                unipersonal            2560548
 2 Hombre                nuclear               17303329
 3 Hombre                ampliado               5324985
 4 Hombre                compuesto               132517
 5 Hombre                corresidente             76180
 6 Mujer                 unipersonal            2316541
 7 Mujer                 nuclear                5769256
 8 Mujer                 ampliado               3932043
 9 Mujer                 compuesto                96921
10 Mujer                 corresidente             47803</code></pre>
</div>
</div>
</section>
<section id="con-pollster" class="level3" data-number="3.3.3">
<h3 data-number="3.3.3" class="anchored" data-anchor-id="con-pollster"><span class="header-section-number">3.3.3</span> con <code>{pollster}</code></h3>
<p>Para una variable</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="co"># tabulado simple con factor de expansión</span></span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-3"><a href="#cb56-3" aria-hidden="true" tabindex="-1"></a>concentradohogar <span class="sc">%&gt;%</span> </span>
<span id="cb56-4"><a href="#cb56-4" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">sexo_jefe =</span> sjlabelled<span class="sc">::</span><span class="fu">as_label</span>(sexo_jefe)) <span class="sc">%&gt;%</span> </span>
<span id="cb56-5"><a href="#cb56-5" aria-hidden="true" tabindex="-1"></a>  pollster<span class="sc">::</span><span class="fu">topline</span>(sexo_jefe , <span class="at">weight =</span> factor)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 5
  Response Frequency Percent `Valid Percent` `Cumulative Percent`
  &lt;fct&gt;        &lt;dbl&gt;   &lt;dbl&gt;           &lt;dbl&gt;                &lt;dbl&gt;
1 Hombre    25397559    67.6            67.6                 67.6
2 Mujer     12162564    32.4            32.4                100  </code></pre>
</div>
</div>
<p>Para dos variables</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="co"># tabulado simple con factor de expansión</span></span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-3"><a href="#cb58-3" aria-hidden="true" tabindex="-1"></a>concentradohogar <span class="sc">%&gt;%</span> </span>
<span id="cb58-4"><a href="#cb58-4" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">sexo_jefe =</span> sjlabelled<span class="sc">::</span><span class="fu">as_label</span>(sexo_jefe)) <span class="sc">%&gt;%</span> </span>
<span id="cb58-5"><a href="#cb58-5" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">clase_hog =</span> sjlabelled<span class="sc">::</span><span class="fu">as_label</span>(clase_hog)) <span class="sc">%&gt;%</span> </span>
<span id="cb58-6"><a href="#cb58-6" aria-hidden="true" tabindex="-1"></a>  pollster<span class="sc">::</span><span class="fu">crosstab</span>(sexo_jefe, clase_hog, <span class="at">weight =</span> factor)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 7
  sexo_jefe unipersonal nuclear ampliado compuesto corresidente        n
  &lt;fct&gt;           &lt;dbl&gt;   &lt;dbl&gt;    &lt;dbl&gt;     &lt;dbl&gt;        &lt;dbl&gt;    &lt;dbl&gt;
1 Hombre           10.1    68.1     21.0     0.522        0.300 25397559
2 Mujer            19.0    47.4     32.3     0.797        0.393 12162564</code></pre>
</div>
</div>
</section>
</section>
<section id="descriptivos-para-variables-cuantitativas" class="level2" data-number="3.4">
<h2 data-number="3.4" class="anchored" data-anchor-id="descriptivos-para-variables-cuantitativas"><span class="header-section-number">3.4</span> Descriptivos para variables cuantitativas</h2>
<section id="medidas-numéricas-básicas" class="level3" data-number="3.4.1">
<h3 data-number="3.4.1" class="anchored" data-anchor-id="medidas-numéricas-básicas"><span class="header-section-number">3.4.1</span> Medidas numéricas básicas</h3>
<p>5 números</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(concentradohogar<span class="sc">$</span>ing_cor) <span class="do">## educación</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
      0   28386   46074   61490   74344 7153770 </code></pre>
</div>
</div>
<p>Con pipes se pueden crear “indicadores” de nuestras variables es un tibble</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a>concentradohogar <span class="sc">%&gt;%</span> </span>
<span id="cb62-2"><a href="#cb62-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">nombre_indicador=</span><span class="fu">mean</span>(ing_cor, <span class="at">na.rm=</span>T))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 1
  nombre_indicador
             &lt;dbl&gt;
1           61490.</code></pre>
</div>
</div>
</section>
<section id="histograma-básico" class="level3" data-number="3.4.2">
<h3 data-number="3.4.2" class="anchored" data-anchor-id="histograma-básico"><span class="header-section-number">3.4.2</span> Histograma básico</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(concentradohogar<span class="sc">$</span>ing_cor)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="P3_files/figure-html/unnamed-chunk-31-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Le podemos modificar el título del eje de las x y de las y</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(concentradohogar<span class="sc">$</span>ing_cor, </span>
<span id="cb65-2"><a href="#cb65-2" aria-hidden="true" tabindex="-1"></a>     <span class="at">main=</span><span class="st">"Histograma de escolaridad"</span>, </span>
<span id="cb65-3"><a href="#cb65-3" aria-hidden="true" tabindex="-1"></a>     <span class="at">xlab=</span><span class="st">"Años aprobados"</span>, <span class="at">ylab=</span><span class="st">"Frecuencia"</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="P3_files/figure-html/unnamed-chunk-32-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>¡A ponerle colorcitos! Aquí hay una lista <a href="http://www.stat.columbia.edu/~tzheng/files/Rcolor.pdf" class="uri">http://www.stat.columbia.edu/~tzheng/files/Rcolor.pdf</a></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(concentradohogar<span class="sc">$</span>ing_cor, </span>
<span id="cb66-2"><a href="#cb66-2" aria-hidden="true" tabindex="-1"></a>     <span class="at">main=</span><span class="st">"Histograma de escolaridad"</span>,</span>
<span id="cb66-3"><a href="#cb66-3" aria-hidden="true" tabindex="-1"></a>     <span class="at">xlab=</span><span class="st">"Años aprobados"</span>, </span>
<span id="cb66-4"><a href="#cb66-4" aria-hidden="true" tabindex="-1"></a>     <span class="at">ylab=</span><span class="st">"Frecuencia"</span>, <span class="at">col=</span><span class="st">"deeppink1"</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="P3_files/figure-html/unnamed-chunk-33-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Con pipes:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a>concentradohogar <span class="sc">%&gt;%</span> </span>
<span id="cb67-2"><a href="#cb67-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">with</span>(<span class="fu">hist</span>(ing_cor)) <span class="co"># con with, para que entienda</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="P3_files/figure-html/unnamed-chunk-34-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Cuando usamos pipes, se debe de recordar que no es necesario escribir el nombre del data.frame en el filtro porque es lo primero que colocamos en nuestro “pipe”.</p>
<p>Checa que cualquier aditamiento debe ir en el pipe donde está el comando de hist(). Ten cuidado con los paréntesis.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a>concentradohogar <span class="sc">%&gt;%</span> </span>
<span id="cb68-2"><a href="#cb68-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(ing_cor)) <span class="sc">%&gt;%</span> <span class="co"># la ventaja de esta forma es que podemos hacer más operaciones</span></span>
<span id="cb68-3"><a href="#cb68-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">with</span>(<span class="fu">hist</span>(ing_cor, <span class="at">main=</span> <span class="st">"histograma"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="P3_files/figure-html/unnamed-chunk-35-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
</section>
<section id="recodificación-de-variables" class="level2" data-number="3.5">
<h2 data-number="3.5" class="anchored" data-anchor-id="recodificación-de-variables"><span class="header-section-number">3.5</span> Recodificación de variables</h2>
<p>Por ejemplo, si quisiéramos hacer una variable que separara a los hogares de acuerdo al grupo etario del jefe</p>
<section id="dplyrif_else" class="level3" data-number="3.5.1">
<h3 data-number="3.5.1" class="anchored" data-anchor-id="dplyrif_else"><span class="header-section-number">3.5.1</span> <code>dplyr::if_else()</code></h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a>concentradohogar <span class="sc">%&lt;&gt;%</span> </span>
<span id="cb69-2"><a href="#cb69-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">joven=</span>dplyr<span class="sc">::</span><span class="fu">if_else</span>(edad_jefe<span class="sc">&lt;</span><span class="dv">30</span>, <span class="dv">1</span>, <span class="dv">0</span>))</span>
<span id="cb69-3"><a href="#cb69-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-4"><a href="#cb69-4" aria-hidden="true" tabindex="-1"></a>concentradohogar <span class="sc">%&gt;%</span> <span class="fu">tabyl</span>(edad_jefe,joven)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> edad_jefe    0    1
        13    0    2
        14    0    3
        15    0   10
        16    0   10
        17    0   29
        18    0  125
        19    0  152
        20    0  220
        21    0  306
        22    0  451
        23    0  561
        24    0  634
        25    0  794
        26    0  828
        27    0 1015
        28    0 1183
        29    0 1180
        30 1458    0
        31 1280    0
        32 1554    0
        33 1488    0
        34 1481    0
        35 1665    0
        36 1675    0
        37 1652    0
        38 1932    0
        39 1751    0
        40 2067    0
        41 1571    0
        42 2265    0
        43 1903    0
        44 1762    0
        45 2080    0
        46 1830    0
        47 2066    0
        48 2076    0
        49 2022    0
        50 2436    0
        51 1746    0
        52 2286    0
        53 1936    0
        54 1966    0
        55 1810    0
        56 1917    0
        57 1839    0
        58 1775    0
        59 1617    0
        60 1880    0
        61 1373    0
        62 1851    0
        63 1633    0
        64 1457    0
        65 1697    0
        66 1289    0
        67 1396    0
        68 1333    0
        69 1036    0
        70 1157    0
        71  808    0
        72 1136    0
        73  965    0
        74  858    0
        75  903    0
        76  704    0
        77  712    0
        78  785    0
        79  520    0
        80  628    0
        81  372    0
        82  537    0
        83  370    0
        84  398    0
        85  364    0
        86  298    0
        87  257    0
        88  197    0
        89  150    0
        90  152    0
        91   87    0
        92  105    0
        93   89    0
        94   47    0
        95   36    0
        96   33    0
        97   21    0
        98   21    0
        99   20    0
       100    7    0
       101    1    0
       102    6    0
       103    1    0
       104    1    0
       106    1    0
       109    1    0</code></pre>
</div>
</div>
</section>
<section id="dplyrcase_when" class="level3" data-number="3.5.2">
<h3 data-number="3.5.2" class="anchored" data-anchor-id="dplyrcase_when"><span class="header-section-number">3.5.2</span> <code>dplyr::case_when()</code></h3>
<p>Esto nos ayuda para recodificación múltiple</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a>concentradohogar <span class="sc">%&lt;&gt;%</span> </span>
<span id="cb71-2"><a href="#cb71-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">grupo_edad2=</span>dplyr<span class="sc">::</span><span class="fu">case_when</span>(edad_jefe<span class="sc">&lt;</span><span class="dv">30</span> <span class="sc">~</span> <span class="dv">1</span>,</span>
<span id="cb71-3"><a href="#cb71-3" aria-hidden="true" tabindex="-1"></a>                                      edad_jefe<span class="sc">&gt;</span><span class="dv">29</span> <span class="sc">&amp;</span> edad_jefe<span class="sc">&lt;</span><span class="dv">45</span> <span class="sc">~</span> <span class="dv">2</span>,</span>
<span id="cb71-4"><a href="#cb71-4" aria-hidden="true" tabindex="-1"></a>                                      edad_jefe<span class="sc">&gt;</span><span class="dv">44</span> <span class="sc">&amp;</span> edad_jefe<span class="sc">&lt;</span><span class="dv">65</span> <span class="sc">~</span> <span class="dv">3</span>,</span>
<span id="cb71-5"><a href="#cb71-5" aria-hidden="true" tabindex="-1"></a>                                      edad_jefe<span class="sc">&gt;</span><span class="dv">64</span> <span class="sc">~</span> <span class="dv">4</span>))</span>
<span id="cb71-6"><a href="#cb71-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-7"><a href="#cb71-7" aria-hidden="true" tabindex="-1"></a><span class="co">#TRUE~ 4</span></span>
<span id="cb71-8"><a href="#cb71-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-9"><a href="#cb71-9" aria-hidden="true" tabindex="-1"></a>concentradohogar <span class="sc">%&gt;%</span> <span class="fu">tabyl</span>(edad_jefe,grupo_edad2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> edad_jefe    1    2    3    4
        13    2    0    0    0
        14    3    0    0    0
        15   10    0    0    0
        16   10    0    0    0
        17   29    0    0    0
        18  125    0    0    0
        19  152    0    0    0
        20  220    0    0    0
        21  306    0    0    0
        22  451    0    0    0
        23  561    0    0    0
        24  634    0    0    0
        25  794    0    0    0
        26  828    0    0    0
        27 1015    0    0    0
        28 1183    0    0    0
        29 1180    0    0    0
        30    0 1458    0    0
        31    0 1280    0    0
        32    0 1554    0    0
        33    0 1488    0    0
        34    0 1481    0    0
        35    0 1665    0    0
        36    0 1675    0    0
        37    0 1652    0    0
        38    0 1932    0    0
        39    0 1751    0    0
        40    0 2067    0    0
        41    0 1571    0    0
        42    0 2265    0    0
        43    0 1903    0    0
        44    0 1762    0    0
        45    0    0 2080    0
        46    0    0 1830    0
        47    0    0 2066    0
        48    0    0 2076    0
        49    0    0 2022    0
        50    0    0 2436    0
        51    0    0 1746    0
        52    0    0 2286    0
        53    0    0 1936    0
        54    0    0 1966    0
        55    0    0 1810    0
        56    0    0 1917    0
        57    0    0 1839    0
        58    0    0 1775    0
        59    0    0 1617    0
        60    0    0 1880    0
        61    0    0 1373    0
        62    0    0 1851    0
        63    0    0 1633    0
        64    0    0 1457    0
        65    0    0    0 1697
        66    0    0    0 1289
        67    0    0    0 1396
        68    0    0    0 1333
        69    0    0    0 1036
        70    0    0    0 1157
        71    0    0    0  808
        72    0    0    0 1136
        73    0    0    0  965
        74    0    0    0  858
        75    0    0    0  903
        76    0    0    0  704
        77    0    0    0  712
        78    0    0    0  785
        79    0    0    0  520
        80    0    0    0  628
        81    0    0    0  372
        82    0    0    0  537
        83    0    0    0  370
        84    0    0    0  398
        85    0    0    0  364
        86    0    0    0  298
        87    0    0    0  257
        88    0    0    0  197
        89    0    0    0  150
        90    0    0    0  152
        91    0    0    0   87
        92    0    0    0  105
        93    0    0    0   89
        94    0    0    0   47
        95    0    0    0   36
        96    0    0    0   33
        97    0    0    0   21
        98    0    0    0   21
        99    0    0    0   20
       100    0    0    0    7
       101    0    0    0    1
       102    0    0    0    6
       103    0    0    0    1
       104    0    0    0    1
       106    0    0    0    1
       109    0    0    0    1</code></pre>
</div>
</div>
</section>
<section id="dplyrrename" class="level3" data-number="3.5.3">
<h3 data-number="3.5.3" class="anchored" data-anchor-id="dplyrrename"><span class="header-section-number">3.5.3</span> <code>dplyr::rename()</code></h3>
<p>Para cambiar los nombres de las variables podemos cambiarlos nombres</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a>concentradohogar <span class="sc">%&lt;&gt;%</span></span>
<span id="cb73-2"><a href="#cb73-2" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">rename</span>(<span class="at">nuevo_nombre=</span>grupo_edad2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Esto en base sería similar a</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(concentradohogar)[<span class="dv">128</span>]<span class="ot">&lt;-</span><span class="st">"grupo_edad2"</span></span>
<span id="cb74-2"><a href="#cb74-2" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(concentradohogar)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  [1] "folioviv"    "foliohog"    "ubica_geo"   "tam_loc"     "est_socio"  
  [6] "est_dis"     "upm"         "factor"      "clase_hog"   "sexo_jefe"  
 [11] "edad_jefe"   "educa_jefe"  "tot_integ"   "hombres"     "mujeres"    
 [16] "mayores"     "menores"     "p12_64"      "p65mas"      "ocupados"   
 [21] "percep_ing"  "perc_ocupa"  "ing_cor"     "ingtrab"     "trabajo"    
 [26] "sueldos"     "horas_extr"  "comisiones"  "aguinaldo"   "indemtrab"  
 [31] "otra_rem"    "remu_espec"  "negocio"     "noagrop"     "industria"  
 [36] "comercio"    "servicios"   "agrope"      "agricolas"   "pecuarios"  
 [41] "reproducc"   "pesca"       "otros_trab"  "rentas"      "utilidad"   
 [46] "arrenda"     "transfer"    "jubilacion"  "becas"       "donativos"  
 [51] "remesas"     "bene_gob"    "transf_hog"  "trans_inst"  "estim_alqu" 
 [56] "otros_ing"   "gasto_mon"   "alimentos"   "ali_dentro"  "cereales"   
 [61] "carnes"      "pescado"     "leche"       "huevo"       "aceites"    
 [66] "tuberculo"   "verduras"    "frutas"      "azucar"      "cafe"       
 [71] "especias"    "otros_alim"  "bebidas"     "ali_fuera"   "tabaco"     
 [76] "vesti_calz"  "vestido"     "calzado"     "vivienda"    "alquiler"   
 [81] "pred_cons"   "agua"        "energia"     "limpieza"    "cuidados"   
 [86] "utensilios"  "enseres"     "salud"       "atenc_ambu"  "hospital"   
 [91] "medicinas"   "transporte"  "publico"     "foraneo"     "adqui_vehi" 
 [96] "mantenim"    "refaccion"   "combus"      "comunica"    "educa_espa" 
[101] "educacion"   "esparci"     "paq_turist"  "personales"  "cuida_pers" 
[106] "acces_pers"  "otros_gas"   "transf_gas"  "percep_tot"  "retiro_inv" 
[111] "prestamos"   "otras_perc"  "ero_nm_viv"  "ero_nm_hog"  "erogac_tot" 
[116] "cuota_viv"   "mater_serv"  "material"    "servicio"    "deposito"   
[121] "prest_terc"  "pago_tarje"  "deudas"      "balance"     "otras_erog" 
[126] "smg"         "joven"       "grupo_edad2"</code></pre>
</div>
</div>
</section>
</section>
<section id="creación-de-intervalos-con-cortes" class="level2" data-number="3.6">
<h2 data-number="3.6" class="anchored" data-anchor-id="creación-de-intervalos-con-cortes"><span class="header-section-number">3.6</span> Creación de intervalos con cortes</h2>
<p>Uno de los elementos más comunes es crear grupos. Por ejemplo, la función <code>cut()</code>, nos ayuda a crear variables con ciertos cortes. Por ejemplo, para recodificar por grupos etarios</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a>concentradohogar <span class="sc">%&lt;&gt;%</span> </span>
<span id="cb76-2"><a href="#cb76-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">grupo=</span><span class="fu">cut</span>(edad_jefe,</span>
<span id="cb76-3"><a href="#cb76-3" aria-hidden="true" tabindex="-1"></a>                   <span class="at">breaks=</span><span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">25</span>, <span class="dv">50</span>, <span class="dv">75</span>, <span class="dv">100</span>)))</span>
<span id="cb76-4"><a href="#cb76-4" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb76-5"><a href="#cb76-5" aria-hidden="true" tabindex="-1"></a>       </span>
<span id="cb76-6"><a href="#cb76-6" aria-hidden="true" tabindex="-1"></a>concentradohogar <span class="sc">%&gt;%</span> </span>
<span id="cb76-7"><a href="#cb76-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tabyl</span>(grupo)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    grupo     n      percent valid_percent
   (0,25]  3297 0.0365918626    0.03659633
  (25,50] 42220 0.4685800537    0.46863727
  (50,75] 37664 0.4180151384    0.41806618
 (75,100]  6910 0.0766908615    0.07670023
     &lt;NA&gt;    11 0.0001220839            NA</code></pre>
</div>
</div>
<p>Algunas opciones se pueden modificar dentro de la función <code>cut()</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a>concentradohogar <span class="sc">%&lt;&gt;%</span> </span>
<span id="cb78-2"><a href="#cb78-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">grupo=</span><span class="fu">cut</span>(edad_jefe,</span>
<span id="cb78-3"><a href="#cb78-3" aria-hidden="true" tabindex="-1"></a>                   <span class="at">breaks=</span><span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">25</span>, <span class="dv">50</span>, <span class="dv">75</span>, <span class="dv">100</span>),</span>
<span id="cb78-4"><a href="#cb78-4" aria-hidden="true" tabindex="-1"></a>                   <span class="at">include.lowest=</span>T,</span>
<span id="cb78-5"><a href="#cb78-5" aria-hidden="true" tabindex="-1"></a>                   <span class="at">right=</span> F))</span>
<span id="cb78-6"><a href="#cb78-6" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb78-7"><a href="#cb78-7" aria-hidden="true" tabindex="-1"></a>       </span>
<span id="cb78-8"><a href="#cb78-8" aria-hidden="true" tabindex="-1"></a>concentradohogar <span class="sc">%&gt;%</span> </span>
<span id="cb78-9"><a href="#cb78-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tabyl</span>(grupo)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    grupo     n      percent valid_percent
   [0,25)  2503 0.0277796275    0.02778302
  [25,50) 40578 0.4503562629    0.45041125
  [50,75) 39197 0.4350291891    0.43508231
 [75,100]  7813 0.0867128366    0.08672342
     &lt;NA&gt;    11 0.0001220839            NA</code></pre>
</div>
</div>
<p>Esto nos puede ayudar para hacer variables de rangos de cualquier tipo.</p>
</section>
<section id="creación-de-quintiles" class="level2" data-number="3.7">
<h2 data-number="3.7" class="anchored" data-anchor-id="creación-de-quintiles"><span class="header-section-number">3.7</span> Creación de quintiles</h2>
<p>Otro tipo de variables de intervalos muy importante son los quintiles y otras medidas de posición.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb80"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a>concentradohogar <span class="sc">%&lt;&gt;%</span></span>
<span id="cb80-2"><a href="#cb80-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">quintil0=</span><span class="fu">ntile</span>(ing_cor, <span class="at">n=</span><span class="dv">5</span>))</span>
<span id="cb80-3"><a href="#cb80-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-4"><a href="#cb80-4" aria-hidden="true" tabindex="-1"></a>concentradohogar <span class="sc">%&gt;%</span> </span>
<span id="cb80-5"><a href="#cb80-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tabyl</span>(quintil0)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> quintil0     n   percent
        1 18021 0.2000067
        2 18021 0.2000067
        3 18020 0.1999956
        4 18020 0.1999956
        5 18020 0.1999956</code></pre>
</div>
</div>
<p>Pero quizás nos interesa más los quintiles que toman en cuenta el factor de expansión, por eso usamos el paquete <code>{dineq}</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb82"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a>concentradohogar <span class="sc">%&lt;&gt;%</span></span>
<span id="cb82-2"><a href="#cb82-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">quintil1=</span>dineq<span class="sc">::</span><span class="fu">ntiles.wtd</span>(ing_cor, <span class="co"># variable a utilizar</span></span>
<span id="cb82-3"><a href="#cb82-3" aria-hidden="true" tabindex="-1"></a>                                    <span class="at">n=</span><span class="dv">5</span>, <span class="co"># número de grupos equitativos</span></span>
<span id="cb82-4"><a href="#cb82-4" aria-hidden="true" tabindex="-1"></a>                                    <span class="at">weights=</span>factor)) <span class="co"># factor</span></span>
<span id="cb82-5"><a href="#cb82-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-6"><a href="#cb82-6" aria-hidden="true" tabindex="-1"></a>concentradohogar <span class="sc">%&gt;%</span> </span>
<span id="cb82-7"><a href="#cb82-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tabyl</span>(quintil1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> quintil1     n   percent
        1 19000 0.2108721
        2 18418 0.2044128
        3 17933 0.1990300
        4 17744 0.1969324
        5 17007 0.1887527</code></pre>
</div>
<div class="sourceCode cell-code" id="cb84"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb84-1"><a href="#cb84-1" aria-hidden="true" tabindex="-1"></a>concentradohogar <span class="sc">%&gt;%</span> </span>
<span id="cb84-2"><a href="#cb84-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(quintil1, <span class="at">wt=</span>factor) <span class="sc">%&gt;%</span> </span>
<span id="cb84-3"><a href="#cb84-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">p=</span>n<span class="sc">/</span><span class="fu">sum</span>(n)<span class="sc">*</span><span class="dv">100</span>) <span class="sc">%&gt;%</span></span>
<span id="cb84-4"><a href="#cb84-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">adorn_totals</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> quintil1        n         p
        1  7512196  20.00046
        2  7512080  20.00015
        3  7512216  20.00051
        4  7511606  19.99889
        5  7512025  20.00000
    Total 37560123 100.00000</code></pre>
</div>
</div>
<p>Podemos también ver la diferencia en los máximos y minimos de ambas variables</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb86"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a>concentradohogar <span class="sc">%&gt;%</span> </span>
<span id="cb86-2"><a href="#cb86-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(quintil0) <span class="sc">%&gt;%</span> </span>
<span id="cb86-3"><a href="#cb86-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">min=</span><span class="fu">min</span>(ing_cor),</span>
<span id="cb86-4"><a href="#cb86-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">max=</span><span class="fu">max</span>(ing_cor))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 × 3
  quintil0    min      max
     &lt;int&gt;  &lt;dbl&gt;    &lt;dbl&gt;
1        1     0    25159.
2        2 25159.   38361.
3        3 38361.   55235.
4        4 55235.   83845.
5        5 83850. 7153770.</code></pre>
</div>
</div>
<p>Veamos con la ponderación:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb88"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb88-1"><a href="#cb88-1" aria-hidden="true" tabindex="-1"></a>concentradohogar <span class="sc">%&gt;%</span> </span>
<span id="cb88-2"><a href="#cb88-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(quintil1) <span class="sc">%&gt;%</span> </span>
<span id="cb88-3"><a href="#cb88-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">min=</span><span class="fu">min</span>(ing_cor),</span>
<span id="cb88-4"><a href="#cb88-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">max=</span><span class="fu">max</span>(ing_cor))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 × 3
  quintil1    min      max
     &lt;dbl&gt;  &lt;dbl&gt;    &lt;dbl&gt;
1        1     0    25883.
2        2 25883.   39448.
3        3 39448.   56680.
4        4 56681.   86372.
5        5 86373. 7153770.</code></pre>
</div>
</div>
<p>La flexibilidad de dplyr nos permite además hacer quintiles fácilmente adentro de grupos. Por ejemplo si quisiéramos hacer quintiles estatales… Claro para eso debemos tener la variable.</p>
<p>La variable “ubica_geo”, nos da esa información pero junta</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb90"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb90-1"><a href="#cb90-1" aria-hidden="true" tabindex="-1"></a>concentradohogar <span class="sc">%&gt;%</span> </span>
<span id="cb90-2"><a href="#cb90-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(ubica_geo) <span class="sc">%&gt;%</span> </span>
<span id="cb90-3"><a href="#cb90-3" aria-hidden="true" tabindex="-1"></a>  head</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 1
  ubica_geo                   
  &lt;chr+lbl&gt;                   
1 01001 [Ags., Aguascalientes]
2 01001 [Ags., Aguascalientes]
3 01001 [Ags., Aguascalientes]
4 01001 [Ags., Aguascalientes]
5 01001 [Ags., Aguascalientes]
6 01001 [Ags., Aguascalientes]</code></pre>
</div>
</div>
<p>Vamos a crear dos variables, uan que nos diga la entidad y la otra el municipio</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb92"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb92-1"><a href="#cb92-1" aria-hidden="true" tabindex="-1"></a>concentradohogar <span class="sc">%&lt;&gt;%</span></span>
<span id="cb92-2"><a href="#cb92-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">ent=</span>stringr<span class="sc">::</span><span class="fu">str_sub</span>(ubica_geo, <span class="at">start =</span> <span class="dv">1</span>, <span class="at">end =</span> <span class="dv">2</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb92-3"><a href="#cb92-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">mun=</span>stringr<span class="sc">::</span><span class="fu">str_sub</span>(ubica_geo, <span class="at">start =</span> <span class="dv">3</span>, <span class="at">end =</span> <span class="dv">5</span>))</span>
<span id="cb92-4"><a href="#cb92-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb92-5"><a href="#cb92-5" aria-hidden="true" tabindex="-1"></a>concentradohogar <span class="sc">%&gt;%</span> <span class="fu">tabyl</span>(ent)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> ent    n    percent
  01 2669 0.02962198
  02 4141 0.04595902
  03 2776 0.03080953
  04 2204 0.02446117
  05 4125 0.04578145
  06 3031 0.03363965
  07 2112 0.02344010
  08 4555 0.05055382
  09 2585 0.02868971
  10 2713 0.03011032
  11 3076 0.03413909
  12 2538 0.02816808
  13 2135 0.02369537
  14 2625 0.02913365
  15 3527 0.03914453
  16 2215 0.02458325
  17 2461 0.02731349
  18 2130 0.02363987
  19 3612 0.04008790
  20 2620 0.02907816
  21 2175 0.02413931
  22 3822 0.04241859
  23 2418 0.02683625
  24 2630 0.02918914
  25 3479 0.03861180
  26 2548 0.02827906
  27 2167 0.02405052
  28 2322 0.02577079
  29 2307 0.02560432
  30 2915 0.03235222
  31 2947 0.03270738
  32 2522 0.02799050</code></pre>
</div>
<div class="sourceCode cell-code" id="cb94"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb94-1"><a href="#cb94-1" aria-hidden="true" tabindex="-1"></a>concentradohogar <span class="sc">%&gt;%</span> <span class="fu">tabyl</span>(mun)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> mun    n      percent
 001 5079 5.636945e-02
 002 4679 5.193003e-02
 003 3080 3.418348e-02
 004 3700 4.106457e-02
 005 3685 4.089809e-02
 006 2928 3.249650e-02
 007 2792 3.098710e-02
 008 2300 2.552663e-02
 009 1987 2.205278e-02
 010 2043 2.267430e-02
 011 1998 2.217487e-02
 012 1787 1.983308e-02
 013 1356 1.504961e-02
 014 2375 2.635902e-02
 015 1062 1.178664e-02
 016 1183 1.312956e-02
 017 2600 2.885619e-02
 018 1659 1.841247e-02
 019 1466 1.627045e-02
 020 1387 1.539366e-02
 021  847 9.400457e-03
 022  611 6.781204e-03
 023  423 4.694679e-03
 024  630 6.992076e-03
 025  641 7.114160e-03
 026  697 7.735677e-03
 027  803 8.912122e-03
 028 1075 1.193092e-02
 029  703 7.802269e-03
 030 1916 2.126479e-02
 031  749 8.312801e-03
 032  886 9.833300e-03
 033 1366 1.516060e-02
 034  450 4.994340e-03
 035 1466 1.627045e-02
 036  392 4.350625e-03
 037 1694 1.880091e-02
 038  947 1.051031e-02
 039 1405 1.559344e-02
 040  491 5.449380e-03
 041  754 8.368294e-03
 042  424 4.705778e-03
 043  469 5.205212e-03
 044  307 3.407250e-03
 045  339 3.762403e-03
 046  508 5.638055e-03
 047  200 2.219707e-03
 048  623 6.914386e-03
 049  221 2.452776e-03
 050 1293 1.435040e-02
 051  447 4.961044e-03
 052  534 5.926617e-03
 053  830 9.211782e-03
 054  310 3.440545e-03
 055  438 4.861157e-03
 056  356 3.951078e-03
 057  275 3.052097e-03
 058  386 4.284034e-03
 059  292 3.240772e-03
 060   88 9.766709e-04
 061  176 1.953342e-03
 062  258 2.863421e-03
 063   84 9.322768e-04
 064  103 1.143149e-03
 065  154 1.709174e-03
 066  156 1.731371e-03
 067  355 3.939979e-03
 068  217 2.408382e-03
 069  118 1.309627e-03
 070  106 1.176444e-03
 071  123 1.365120e-03
 072   83 9.211782e-04
 073  185 2.053229e-03
 074   72 7.990944e-04
 075  195 2.164214e-03
 076  221 2.452776e-03
 077  220 2.441677e-03
 078  148 1.642583e-03
 079  187 2.075426e-03
 080  106 1.176444e-03
 081  199 2.208608e-03
 082  103 1.143149e-03
 083  110 1.220839e-03
 084   87 9.655724e-04
 085  186 2.064327e-03
 086  109 1.209740e-03
 087  212 2.352889e-03
 088  103 1.143149e-03
 089  244 2.708042e-03
 090  129 1.431711e-03
 091   28 3.107589e-04
 092   58 6.437149e-04
 093   85 9.433753e-04
 094   95 1.054361e-03
 095    9 9.988679e-05
 096  122 1.354021e-03
 097  263 2.918914e-03
 098  268 2.974407e-03
 099   93 1.032164e-03
 100   60 6.659120e-04
 101  489 5.427183e-03
 102  384 4.261837e-03
 103   87 9.655724e-04
 104  230 2.552663e-03
 105   59 6.548134e-04
 106  271 3.007702e-03
 107   73 8.101929e-04
 108  301 3.340658e-03
 109  166 1.842356e-03
 110   36 3.995472e-04
 111   34 3.773501e-04
 112  127 1.409514e-03
 113   84 9.322768e-04
 114  553 6.137489e-03
 115   13 1.442809e-04
 116   39 4.328428e-04
 117   62 6.881090e-04
 118   70 7.768973e-04
 119   65 7.214046e-04
 120  366 4.062063e-03
 121  160 1.775765e-03
 122   51 5.660252e-04
 123  108 1.198642e-03
 124   84 9.322768e-04
 125   40 4.439413e-04
 128   41 4.550398e-04
 130   26 2.885619e-04
 131   54 5.993208e-04
 132  123 1.365120e-03
 133    6 6.659120e-05
 134   21 2.330692e-04
 135   32 3.551530e-04
 136   30 3.329560e-04
 138   41 4.550398e-04
 140    8 8.878826e-05
 141   61 6.770105e-04
 142   45 4.994340e-04
 144   17 1.886751e-04
 145   20 2.219707e-04
 146   20 2.219707e-04
 148   62 6.881090e-04
 149   66 7.325032e-04
 152   23 2.552663e-04
 153   39 4.328428e-04
 154   21 2.330692e-04
 155   40 4.439413e-04
 156   96 1.065459e-03
 157   24 2.663648e-04
 159   17 1.886751e-04
 160   61 6.770105e-04
 161   90 9.988679e-04
 162   21 2.330692e-04
 163   60 6.659120e-04
 164   64 7.103061e-04
 166   18 1.997736e-04
 167   18 1.997736e-04
 171   20 2.219707e-04
 172   42 4.661384e-04
 174  140 1.553795e-03
 175   61 6.770105e-04
 176   18 1.997736e-04
 177   25 2.774633e-04
 179   23 2.552663e-04
 181   20 2.219707e-04
 183   66 7.325032e-04
 184  109 1.209740e-03
 186   41 4.550398e-04
 188   23 2.552663e-04
 189   71 7.879958e-04
 193  183 2.031031e-03
 194   23 2.552663e-04
 195   19 2.108721e-04
 197   63 6.992076e-04
 198   38 4.217442e-04
 199   20 2.219707e-04
 201   65 7.214046e-04
 202   39 4.328428e-04
 204   21 2.330692e-04
 205   42 4.661384e-04
 206   17 1.886751e-04
 207   20 2.219707e-04
 208   58 6.437149e-04
 211   21 2.330692e-04
 213   21 2.330692e-04
 216   23 2.552663e-04
 232   45 4.994340e-04
 276   21 2.330692e-04
 277   18 1.997736e-04
 278   20 2.219707e-04
 280   22 2.441677e-04
 288   22 2.441677e-04
 291   23 2.552663e-04
 293    9 9.988679e-05
 307   21 2.330692e-04
 309   22 2.441677e-04
 311   23 2.552663e-04
 318   20 2.219707e-04
 321   19 2.108721e-04
 324   78 8.656856e-04
 327   59 6.548134e-04
 334   38 4.217442e-04
 350    9 9.988679e-05
 364   23 2.552663e-04
 375    5 5.549266e-05
 385   31 3.440545e-04
 390   33 3.662516e-04
 397   18 1.997736e-04
 399    5 5.549266e-05
 407   23 2.552663e-04
 409    4 4.439413e-05
 412   21 2.330692e-04
 413   22 2.441677e-04
 415   22 2.441677e-04
 429   24 2.663648e-04
 433   19 2.108721e-04
 437   16 1.775765e-04
 439   42 4.661384e-04
 444   20 2.219707e-04
 448   24 2.663648e-04
 449   21 2.330692e-04
 458   23 2.552663e-04
 466   21 2.330692e-04
 469   17 1.886751e-04
 474   17 1.886751e-04
 484   20 2.219707e-04
 494   19 2.108721e-04
 500   22 2.441677e-04
 504   22 2.441677e-04
 515   62 6.881090e-04
 525   22 2.441677e-04
 530   23 2.552663e-04
 531   23 2.552663e-04
 537   13 1.442809e-04
 547   22 2.441677e-04
 551   17 1.886751e-04
 554   19 2.108721e-04
 557   43 4.772369e-04
 560   24 2.663648e-04
 565   20 2.219707e-04</code></pre>
</div>
</div>
<p>Hoy sí podemos hacer nuestras variables dentro de cada entidad federativa</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb96"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb96-1"><a href="#cb96-1" aria-hidden="true" tabindex="-1"></a>concentradohogar <span class="sc">%&lt;&gt;%</span></span>
<span id="cb96-2"><a href="#cb96-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(ent) <span class="sc">%&gt;%</span> </span>
<span id="cb96-3"><a href="#cb96-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">quintil2=</span>dineq<span class="sc">::</span><span class="fu">ntiles.wtd</span>(ing_cor, <span class="at">n=</span><span class="dv">5</span>, <span class="at">weights=</span>factor)) <span class="sc">%&gt;%</span> </span>
<span id="cb96-4"><a href="#cb96-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>¿Discreparán muchos los hogares en sus distribuciones a nivel nacional y por entidad?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb97"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb97-1"><a href="#cb97-1" aria-hidden="true" tabindex="-1"></a>concentradohogar <span class="sc">%&gt;%</span> </span>
<span id="cb97-2"><a href="#cb97-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tabyl</span>(quintil1,quintil2) <span class="sc">%&gt;%</span> </span>
<span id="cb97-3"><a href="#cb97-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">adorn_totals</span>(<span class="fu">c</span>(<span class="st">"row"</span>, <span class="st">"col"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> quintil1     1     2     3     4     5 Total
        1 15746  3086   168     0     0 19000
        2  4888  9425  3785   320     0 18418
        3   119  5936  8122  3712    44 17933
        4     0   304  5628  9191  2621 17744
        5     0     0     0  3731 13276 17007
    Total 20753 18751 17703 16954 15941 90102</code></pre>
</div>
</div>
</section>
<section id="grammar-of-tables" class="level2" data-number="3.8">
<h2 data-number="3.8" class="anchored" data-anchor-id="grammar-of-tables"><span class="header-section-number">3.8</span> Grammar of tables</h2>
<p>Y si queremos este tabulado más bonito</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb99"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb99-1"><a href="#cb99-1" aria-hidden="true" tabindex="-1"></a>concentradohogar <span class="sc">%&gt;%</span> </span>
<span id="cb99-2"><a href="#cb99-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tabyl</span>(quintil1,quintil2) <span class="sc">%&gt;%</span> </span>
<span id="cb99-3"><a href="#cb99-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">adorn_totals</span>(<span class="fu">c</span>(<span class="st">"row"</span>, <span class="st">"col"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb99-4"><a href="#cb99-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div id="kvqqnhfqrc" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#kvqqnhfqrc table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#kvqqnhfqrc thead, #kvqqnhfqrc tbody, #kvqqnhfqrc tfoot, #kvqqnhfqrc tr, #kvqqnhfqrc td, #kvqqnhfqrc th {
  border-style: none;
}

#kvqqnhfqrc p {
  margin: 0;
  padding: 0;
}

#kvqqnhfqrc .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#kvqqnhfqrc .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#kvqqnhfqrc .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#kvqqnhfqrc .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#kvqqnhfqrc .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#kvqqnhfqrc .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#kvqqnhfqrc .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#kvqqnhfqrc .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#kvqqnhfqrc .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#kvqqnhfqrc .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#kvqqnhfqrc .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#kvqqnhfqrc .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#kvqqnhfqrc .gt_spanner_row {
  border-bottom-style: hidden;
}

#kvqqnhfqrc .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#kvqqnhfqrc .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#kvqqnhfqrc .gt_from_md > :first-child {
  margin-top: 0;
}

#kvqqnhfqrc .gt_from_md > :last-child {
  margin-bottom: 0;
}

#kvqqnhfqrc .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#kvqqnhfqrc .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#kvqqnhfqrc .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#kvqqnhfqrc .gt_row_group_first td {
  border-top-width: 2px;
}

#kvqqnhfqrc .gt_row_group_first th {
  border-top-width: 2px;
}

#kvqqnhfqrc .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#kvqqnhfqrc .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#kvqqnhfqrc .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#kvqqnhfqrc .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#kvqqnhfqrc .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#kvqqnhfqrc .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#kvqqnhfqrc .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#kvqqnhfqrc .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#kvqqnhfqrc .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#kvqqnhfqrc .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#kvqqnhfqrc .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#kvqqnhfqrc .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#kvqqnhfqrc .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#kvqqnhfqrc .gt_left {
  text-align: left;
}

#kvqqnhfqrc .gt_center {
  text-align: center;
}

#kvqqnhfqrc .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#kvqqnhfqrc .gt_font_normal {
  font-weight: normal;
}

#kvqqnhfqrc .gt_font_bold {
  font-weight: bold;
}

#kvqqnhfqrc .gt_font_italic {
  font-style: italic;
}

#kvqqnhfqrc .gt_super {
  font-size: 65%;
}

#kvqqnhfqrc .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#kvqqnhfqrc .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#kvqqnhfqrc .gt_indent_1 {
  text-indent: 5px;
}

#kvqqnhfqrc .gt_indent_2 {
  text-indent: 10px;
}

#kvqqnhfqrc .gt_indent_3 {
  text-indent: 15px;
}

#kvqqnhfqrc .gt_indent_4 {
  text-indent: 20px;
}

#kvqqnhfqrc .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
  <thead>
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="quintil1">quintil1</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="1">1</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="2">2</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="3">3</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="4">4</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="5">5</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Total">Total</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="quintil1" class="gt_row gt_left">1</td>
<td headers="1" class="gt_row gt_right">15746</td>
<td headers="2" class="gt_row gt_right">3086</td>
<td headers="3" class="gt_row gt_right">168</td>
<td headers="4" class="gt_row gt_right">0</td>
<td headers="5" class="gt_row gt_right">0</td>
<td headers="Total" class="gt_row gt_right">19000</td></tr>
    <tr><td headers="quintil1" class="gt_row gt_left">2</td>
<td headers="1" class="gt_row gt_right">4888</td>
<td headers="2" class="gt_row gt_right">9425</td>
<td headers="3" class="gt_row gt_right">3785</td>
<td headers="4" class="gt_row gt_right">320</td>
<td headers="5" class="gt_row gt_right">0</td>
<td headers="Total" class="gt_row gt_right">18418</td></tr>
    <tr><td headers="quintil1" class="gt_row gt_left">3</td>
<td headers="1" class="gt_row gt_right">119</td>
<td headers="2" class="gt_row gt_right">5936</td>
<td headers="3" class="gt_row gt_right">8122</td>
<td headers="4" class="gt_row gt_right">3712</td>
<td headers="5" class="gt_row gt_right">44</td>
<td headers="Total" class="gt_row gt_right">17933</td></tr>
    <tr><td headers="quintil1" class="gt_row gt_left">4</td>
<td headers="1" class="gt_row gt_right">0</td>
<td headers="2" class="gt_row gt_right">304</td>
<td headers="3" class="gt_row gt_right">5628</td>
<td headers="4" class="gt_row gt_right">9191</td>
<td headers="5" class="gt_row gt_right">2621</td>
<td headers="Total" class="gt_row gt_right">17744</td></tr>
    <tr><td headers="quintil1" class="gt_row gt_left">5</td>
<td headers="1" class="gt_row gt_right">0</td>
<td headers="2" class="gt_row gt_right">0</td>
<td headers="3" class="gt_row gt_right">0</td>
<td headers="4" class="gt_row gt_right">3731</td>
<td headers="5" class="gt_row gt_right">13276</td>
<td headers="Total" class="gt_row gt_right">17007</td></tr>
    <tr><td headers="quintil1" class="gt_row gt_left">Total</td>
<td headers="1" class="gt_row gt_right">20753</td>
<td headers="2" class="gt_row gt_right">18751</td>
<td headers="3" class="gt_row gt_right">17703</td>
<td headers="4" class="gt_row gt_right">16954</td>
<td headers="5" class="gt_row gt_right">15941</td>
<td headers="Total" class="gt_row gt_right">90102</td></tr>
  </tbody>
  
  
</table>
</div>
</div>
</div>
<pre><code>concentradohogar %&gt;%
tabyl(quintil1,quintil2) %&gt;%
adorn_totals(c("row", "col")) %&gt;% 
gt() %&gt;% 
tab_header( title = md("Distribución de los hogares en **México**"),
            subtitle = md("Según quintiles y *quintiles*")) %&gt;%
tab_footnote( footnote = paste(get_label(concentradohogar\$ing_cor)))</code></pre>
</section>
<section id="at-muchas-operaciones-de-dplyr" class="level2" data-number="3.9">
<h2 data-number="3.9" class="anchored" data-anchor-id="at-muchas-operaciones-de-dplyr"><span class="header-section-number">3.9</span> _at muchas operaciones de <code>{dplyr}</code></h2>
<p>Este es un sufijo que funciona en algunos verbos de <code>{dplyr}</code> y permite hacer una operación en varias variables al mismo tiempo, funciona con vars()</p>
<section id="dplyrmutate_at" class="level3" data-number="3.9.1">
<h3 data-number="3.9.1" class="anchored" data-anchor-id="dplyrmutate_at"><span class="header-section-number">3.9.1</span> <code>dplyr::mutate_at()</code></h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb101"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb101-1"><a href="#cb101-1" aria-hidden="true" tabindex="-1"></a>concentradohogar <span class="sc">%&gt;%</span> </span>
<span id="cb101-2"><a href="#cb101-2" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate_at</span>(<span class="fu">vars</span>(clase_hog, sexo_jefe), <span class="sc">~</span> <span class="fu">as_label</span>(.x)) <span class="sc">%&gt;%</span> <span class="co"># ojo con la coma y con el punto</span></span>
<span id="cb101-3"><a href="#cb101-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tabyl</span>(clase_hog, sexo_jefe)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    clase_hog Hombre Mujer
  unipersonal   6519  5367
      nuclear  41919 13621
     ampliado  12898  8888
    compuesto    372   211
 corresidente    197   110</code></pre>
</div>
</div>
</section>
<section id="dplyrrename_at" class="level3" data-number="3.9.2">
<h3 data-number="3.9.2" class="anchored" data-anchor-id="dplyrrename_at"><span class="header-section-number">3.9.2</span> <code>dplyr::rename_at()</code></h3>
<p>Primero revisemos la opción paste y paste0</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb103"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb103-1"><a href="#cb103-1" aria-hidden="true" tabindex="-1"></a><span class="fu">paste</span>(<span class="st">"a"</span>,<span class="st">"b"</span>, <span class="at">sep=</span><span class="st">"_"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "a_b"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb105"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb105-1"><a href="#cb105-1" aria-hidden="true" tabindex="-1"></a><span class="fu">paste</span>(<span class="st">"a"</span>,<span class="st">"b"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "a b"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb107"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb107-1"><a href="#cb107-1" aria-hidden="true" tabindex="-1"></a><span class="fu">paste0</span>(<span class="st">"a"</span>,<span class="st">"b"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "ab"</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb109"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb109-1"><a href="#cb109-1" aria-hidden="true" tabindex="-1"></a>concentradohogar <span class="sc">%&gt;%</span> </span>
<span id="cb109-2"><a href="#cb109-2" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">rename_at</span>(<span class="fu">vars</span>(clase_hog, sexo_jefe), <span class="sc">~</span> <span class="fu">paste0</span>(.x, <span class="st">"_2022"</span>)) <span class="sc">%&gt;%</span> <span class="co"># sufijo</span></span>
<span id="cb109-3"><a href="#cb109-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(clase_hog_2022, sexo_jefe_2022)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 90,102 × 2
   clase_hog_2022 sexo_jefe_2022
            &lt;dbl&gt;          &lt;dbl&gt;
 1              3              2
 2              2              1
 3              2              1
 4              3              1
 5              1              1
 6              2              1
 7              2              2
 8              1              2
 9              2              2
10              2              1
# ℹ 90,092 more rows</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb111"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb111-1"><a href="#cb111-1" aria-hidden="true" tabindex="-1"></a>concentradohogar <span class="sc">%&gt;%</span> </span>
<span id="cb111-2"><a href="#cb111-2" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">rename_at</span>(<span class="fu">vars</span>(clase_hog, sexo_jefe), <span class="sc">~</span> <span class="fu">paste0</span>(<span class="st">"desc_"</span>, .x)) <span class="sc">%&gt;%</span> <span class="co"># prefijo</span></span>
<span id="cb111-3"><a href="#cb111-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">starts_with</span>(<span class="st">"desc"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 90,102 × 2
   desc_clase_hog desc_sexo_jefe
            &lt;dbl&gt;          &lt;dbl&gt;
 1              3              2
 2              2              1
 3              2              1
 4              3              1
 5              1              1
 6              2              1
 7              2              2
 8              1              2
 9              2              2
10              2              1
# ℹ 90,092 more rows</code></pre>
</div>
</div>
</section>
</section>
<section id="ejercicio-3" class="level2" data-number="3.10">
<h2 data-number="3.10" class="anchored" data-anchor-id="ejercicio-3"><span class="header-section-number">3.10</span> Ejercicio 3</h2>
<ul>
<li><p>Genere una tabla de frecuencias o una tabla de estadísticas con su conjunto de datos con al menos dos variables</p></li>
<li><p>Recuerde respetar las características de sus variables.</p></li>
</ul>
<p>Envíelo al siguiente <a href="https://forms.gle/sJM7iAm4sxasy6fC9">formulario</a></p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  let localAlternateSentinel = 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./P2.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Manejo de datos: importación, selección y revisión</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./videos.html" class="pagination-link">
        <span class="nav-page-text">Videos y extras</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>