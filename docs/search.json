[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "R para el análisis estadístico de datos",
    "section": "",
    "text": "Sobre el curso"
  },
  {
    "objectID": "index.html#introducción-a-r-y-rstudio-4-horas",
    "href": "index.html#introducción-a-r-y-rstudio-4-horas",
    "title": "R para el análisis estadístico de datos",
    "section": "1. Introducción a R y Rstudio (4 horas)",
    "text": "1. Introducción a R y Rstudio (4 horas)\nObjetivo: que el estudiantado sea familiarice con la interfase de trabajo y la programación por objetos, del mismo modo que sean capaces de realizar tareas básicas tales como crear un script, un proyecto, objetos, ambientes e instalar paqueterías."
  },
  {
    "objectID": "index.html#importación-de-información-y-primera-revisión-de-fuentes-demográficas-4-horas",
    "href": "index.html#importación-de-información-y-primera-revisión-de-fuentes-demográficas-4-horas",
    "title": "R para el análisis estadístico de datos",
    "section": "2. Importación de información y primera revisión de fuentes demográficas (4 horas)",
    "text": "2. Importación de información y primera revisión de fuentes demográficas (4 horas)\n\nImportación de información a R en diferentes formatos\nRevisión de encuestas y ejemplos de importación de datos en formatos diferentes\nRevisión preliminar y limpieza de información\n\nObjetivo: que el estudiantado sea capaz de importar información desde diferentes formatos (.txt, .csv, .xlsx, .dta, .dbf) a R, así como de exportar sus resultados en estos formatos. Del mismo modo que sean capaces de revisar de manera preliminar los objetos de tipo data.frame: funciones dplyr::glimpse(), skimr::skim(), manejo de etiquetas y hacer subconjuntos de información"
  },
  {
    "objectID": "index.html#revisión-de-elementos-estadísticos-básicos-desde-tidyverse-8-horas",
    "href": "index.html#revisión-de-elementos-estadísticos-básicos-desde-tidyverse-8-horas",
    "title": "R para el análisis estadístico de datos",
    "section": "3. Revisión de elementos estadísticos básicos desde {tidyverse} (8 horas)",
    "text": "3. Revisión de elementos estadísticos básicos desde {tidyverse} (8 horas)\n\nTabulados con janitor::tabyl() y uso de factores de expansión con pollster::topline(), pollster::crosstab. Lectura e interpretación de tablas de doble entrada\nEstadística descriptiva básica (medidas de tendencia central, dispersión y de posición) con el paquete {dplyr}\nGráficos univariados y bivariados usando {ggplot2} y extensiones de {ggplot2}\nFusionado de información\n\nObjetivo: que el estudiantado sea capaz de realizar análisis estadísticos básicos utilizando encuestas mexicanas"
  },
  {
    "objectID": "index.html#estimaciones-por-intervalo-y-diseño-complejo-muestral-4-horas",
    "href": "index.html#estimaciones-por-intervalo-y-diseño-complejo-muestral-4-horas",
    "title": "R para el análisis estadístico de datos",
    "section": "4. Estimaciones por intervalo y diseño complejo muestral (4 horas)",
    "text": "4. Estimaciones por intervalo y diseño complejo muestral (4 horas)\n\nEstimaciones para medias\nEstimaciones para proporciones\nEstimaciones para totales\nEstimaciones lineales de coeficientes\n\nObjetivo: que el estudiantado sea capaz de realizar intervalos de confianza, calculo de errores estándar con diseño muestral complejo y sepa evaluar la confiabilidad de sus estimaciones"
  },
  {
    "objectID": "index.html#ana-ruth-escoto-castillo",
    "href": "index.html#ana-ruth-escoto-castillo",
    "title": "R para el análisis estadístico de datos",
    "section": "Ana Ruth Escoto Castillo",
    "text": "Ana Ruth Escoto Castillo\nProfesora de tiempo completo en la Facultad de Ciencias Políticas y Sociales, UNAM. Doctora en Estudios de Población por El Colegio de México, cuenta con el nivel I en el Sistema Nacional de Investigadores. Coorganizadora del capítulo de la CDMX de la iniciativa global Rladies. Le interesa el bienestar de la población, en el presente, analizando los procesos de desigualdad y exclusión en los mercados laborales latinoamericanos; y, en el futuro, a través del estudio de la sustentabilidad. Su experiencia en el ámbito académico se ha concentrado en el estudio de este bienestar, específicamente en el análisis sociodemográfico de las condiciones laborales y la vinculación del comercio exterior con el mercado de trabajo, en la relación del cambio climático y la distribución de ingresos, el consumo energético de los hogares y sus implicaciones ambientales. Posee experiencia en recolección de información estadística, diseño y control de procesos de recolección y su procesamiento. Ha aplicado diversos métodos y herramientas multivariadas, homologación de información y comparabilidad de fuentes en sus investigaciones, así como usa de diversos softwares estadísticos, y ha impartido clases de estadítica aplicada a nivel de licenciatura y posgrado."
  },
  {
    "objectID": "instala.html#introducción-a-r",
    "href": "instala.html#introducción-a-r",
    "title": "Instalación de R y Rstudio",
    "section": "Introducción a R",
    "text": "Introducción a R"
  },
  {
    "objectID": "instala.html#instalación-en-os",
    "href": "instala.html#instalación-en-os",
    "title": "Instalación de R y Rstudio",
    "section": "Instalación en OS",
    "text": "Instalación en OS\n\nNecesito que instalen la versión más nueva de R: Download R-4.4.0 of MAC. The R-project for statistical computing. https://cran.r-project.org/bin/macosx/\n\nElije la versión de acuerdo a tu procesador, intel o ARM.\n\nInstalar también las herramientas Quartz, xcode y fortran\n\n\nhttps://www.xquartz.org/\nhttps://developer.apple.com/xcode/resources/\nhttps://mac.r-project.org/tools/gfortran-12.2-universal.pkg\n\n\nDespués de eso instalar el Rstudio, que hoy se encuentra alojado en el sitio posit, que vaya acorde con MAC\n\nhttps://posit.co/download/rstudio-desktop/\nAlgunas indicaciones en video, pero son algo viejitas y pueden cambiar las versiones de R.\n\nAlgunas indicaciones en video, pero son algo viejitas y pueden cambiar las versiones de R."
  },
  {
    "objectID": "instala.html#instalación-en-pc",
    "href": "instala.html#instalación-en-pc",
    "title": "Instalación de R y Rstudio",
    "section": "Instalación en PC",
    "text": "Instalación en PC\n\nNecesito que instalen la versión más nueva de R: Download R-4.4.0 for Windows. The R-project for statistical computing. https://cran.r-project.org/bin/windows/base/\nInstalar también la herramienta RTools https://cran.r-project.org/bin/windows/Rtools/rtools44/rtools.html\nDespués de eso instalar el Rstudio, que hoy se encuentra alojado en el sitio posit, que vaya acorde con Windows https://posit.co/download/rstudio-desktop/\n\nAlgunas indicaciones en video, pero son algo viejitas y pueden cambiar las versiones de R."
  },
  {
    "objectID": "instala.html#ojo",
    "href": "instala.html#ojo",
    "title": "Instalación de R y Rstudio",
    "section": "Ojo",
    "text": "Ojo\nDesde octubre de 2022, RStudio se volvió “Posit”"
  },
  {
    "objectID": "P1.html#introducción",
    "href": "P1.html#introducción",
    "title": "1  Primer acercamiento al uso del programa",
    "section": "1.1 Introducción",
    "text": "1.1 Introducción\nEn RStudio podemos tener varias ventanas que nos permiten tener más control de nuestro “ambiente”, el historial, los “scripts” o códigos que escribimos y por supuesto, tenemos nuestra consola, que también tiene el símbolo “>” con R. Podemos pedir operaciones básicas\n\n2+5\n\n[1] 7\n\n5*3\n\n[1] 15\n\n#Para escribir comentarios y que no los lea como operaciones ponemos el símbolo de gato\n# Lo podemos hacer para un comentario en una línea o la par de una instrucción\n\n1:5               # Secuencia 1-5\n\n[1] 1 2 3 4 5\n\nseq(1, 10, 0.5)   # Secuencia con incrementos diferentes a 1\n\n [1]  1.0  1.5  2.0  2.5  3.0  3.5  4.0  4.5  5.0  5.5  6.0  6.5  7.0  7.5  8.0\n[16]  8.5  9.0  9.5 10.0\n\nc('a','b','c')  # Vector con caracteres\n\n[1] \"a\" \"b\" \"c\"\n\n1:7             # Entero\n\n[1] 1 2 3 4 5 6 7\n\n40 < 80         # Valor logico\n\n[1] TRUE\n\n2 + 2 == 5      # Valor logico\n\n[1] FALSE\n\nT == TRUE       # T expresion corta de verdadero\n\n[1] TRUE\n\n\nR es un lenguaje de programación por objetos. Por lo cual vamos a tener objetos a los que se les asigna su contenido. Si usamos una flechita “<-” o “->” le estamos asignando algo al objeto que apunta la felcha.\n\nx <- 24         # Asignacion de valor 24 a la variable x para su uso posterior (OBJETO)\nx/2             # Uso posterior de variable u objeto x\n\n[1] 12\n\nx               # Imprime en pantalla el valor de la variable u objeto\n\n[1] 24\n\nx <- TRUE       # Asigna el valor logico TRUE a la variable x OJO: x toma el ultimo valor que se le asigna\nx\n\n[1] TRUE"
  },
  {
    "objectID": "P1.html#vectores",
    "href": "P1.html#vectores",
    "title": "1  Primer acercamiento al uso del programa",
    "section": "1.2 Vectores",
    "text": "1.2 Vectores\nLos vectores son uno de los objetos más usados en R.\n\ny <- c(2, 4, 6)     # Vector numerico\ny <- c('Primaria', 'Secundaria') # Vector caracteres\n\nDado que poseen elementos, podemos también observar y hacer operaciones con sus elementos, usando “[ ]” para acceder a ellos\n\ny[2]              # Acceder al segundo valor del vector y\n\n[1] \"Secundaria\"\n\ny[3] <- 'Preparatoria y más' # Asigna valor a la tercera componente del vector\nsex <-1:2         # Asigna a la variable sex los valores 1 y 2\nnames(sex) <- c(\"Femenino\", \"Masculino\") # Asigna nombres al vector de elementos sexo\nsex[2]            # Segundo elemento del vector sex\n\nMasculino \n        2"
  },
  {
    "objectID": "P1.html#matrices",
    "href": "P1.html#matrices",
    "title": "1  Primer acercamiento al uso del programa",
    "section": "1.3 Matrices",
    "text": "1.3 Matrices\nLas matrices son muy importantes, porque nos permiten hacer operaciones y casi todas nuestras bases de datos tendran un aspecto de matriz.\n\nm <- matrix (nrow=2, ncol=3, 1:6, byrow = TRUE) # Matrices Ejemplo 1\nm\n\n     [,1] [,2] [,3]\n[1,]    1    2    3\n[2,]    4    5    6\n\nm <- matrix (nrow=2, ncol=3, 1:6, byrow = FALSE) # Matrices Ejemplo 1\nm\n\n     [,1] [,2] [,3]\n[1,]    1    3    5\n[2,]    2    4    6\n\ndim(m)\n\n[1] 2 3\n\nattributes(m)\n\n$dim\n[1] 2 3\n\n\n¿Qué hace “byrow”?\n\nn <- 1:6     # Matrices Ejemplo 2\ndim(n) <- c(2,3)\nn\n\n     [,1] [,2] [,3]\n[1,]    1    3    5\n[2,]    2    4    6\n\n\n\nxx <-10:12   # Matrices Ejemplo 3\nyy<-14:16\ncbind(xx,yy) # Une vectores por Columnas\n\n     xx yy\n[1,] 10 14\n[2,] 11 15\n[3,] 12 16\n\nrbind(xx,yy) # Une vectores por Renglones\n\n   [,1] [,2] [,3]\nxx   10   11   12\nyy   14   15   16\n\nmi_matrix<-cbind(xx,yy) # este resultado lo puedo asignar a un objeto"
  },
  {
    "objectID": "P1.html#data.frames-o-conjuntos-de-datos",
    "href": "P1.html#data.frames-o-conjuntos-de-datos",
    "title": "1  Primer acercamiento al uso del programa",
    "section": "1.4 data.frames o conjuntos de datos",
    "text": "1.4 data.frames o conjuntos de datos\n\nmi_dataframe<-as.data.frame(m)\n\nEl formato matricial sigue sirviendo:\n\nmi_dataframe[2,]\n\n  V1 V2 V3\n2  2  4  6\n\nmi_dataframe[,2]\n\n[1] 3 4\n\n\nPero también podemos utilizar el símbolo de peso para cada variable:\n\nmi_dataframe$V2\n\n[1] 3 4\n\n\nPuedo agregar variables columnas:\n\ncbind(mi_dataframe, c(\"a\", \"b\"), c(T, F))\n\n  V1 V2 V3 c(\"a\", \"b\") c(T, F)\n1  1  3  5           a    TRUE\n2  2  4  6           b   FALSE\n\n\nQué pasa con las matrices\n\ncbind(m, c(\"a\", \"b\"),  c(T, F))\n\n     [,1] [,2] [,3] [,4] [,5]   \n[1,] \"1\"  \"3\"  \"5\"  \"a\"  \"TRUE\" \n[2,] \"2\"  \"4\"  \"6\"  \"b\"  \"FALSE\"\n\n\nCheca cómo cambian los elementos. En una matriz todos los elementos deben ser del mismo tipo.\nPodemos crear “a mano” dataframes:\n\ndata<-data.frame(\n  \"entero\" = 1:4, \n  \"factor\" = as.factor(c(\"a\", \"b\", \"c\", \"d\")), \n  \"numero\" = c(1/1, 1/2, 1/3, 1/4),\n  \"cadena\" = as.character(c(\"a\", \"b\", \"c\", \"d\"))\n)\n\nLos data.frames tienen una estructura\n\nstr(data)\n\n'data.frame':   4 obs. of  4 variables:\n $ entero: int  1 2 3 4\n $ factor: Factor w/ 4 levels \"a\",\"b\",\"c\",\"d\": 1 2 3 4\n $ numero: num  1 0.5 0.333 0.25\n $ cadena: chr  \"a\" \"b\" \"c\" \"d\""
  },
  {
    "objectID": "P1.html#valores-y-perdidos",
    "href": "P1.html#valores-y-perdidos",
    "title": "1  Primer acercamiento al uso del programa",
    "section": "1.5 Valores y perdidos",
    "text": "1.5 Valores y perdidos\nAdemás de caracteres, numéricos y lógicos hay también valores perdidos. Y de varios tipos\n\nvector<-c(1:5, # numérico\n          T, # lógico\n          NA, # perdido\n          \"a\", # caracter\n          5/0, # no es un número\n          sqrt(-1))\n\nWarning in sqrt(-1): Se han producido NaNs\n\n\nSi lo imprimimos vamos a ir viendo cómo se convierten ciertos valores a otros al quererlos incluir en un mismo conjunto:\n\nvector\n\n [1] \"1\"    \"2\"    \"3\"    \"4\"    \"5\"    \"TRUE\" NA     \"a\"    \"Inf\"  \"NaN\" \n\n\nQuitaremos el caracter\n\nvector<-c(1:5, # numérico\n          T, # lógico\n          NA, # perdido\n          5/0, # Infinito\n          sqrt(-1))\n\nWarning in sqrt(-1): Se han producido NaNs\n\nvector\n\n[1]   1   2   3   4   5   1  NA Inf NaN\n\n\n¿Qué le pasó al valor lógico?\nHay unos operadores que nos señalan si los valores son perdidos o infinitos o “Not a number”\n\nis.na(vector)\n\n[1] FALSE FALSE FALSE FALSE FALSE FALSE  TRUE FALSE  TRUE\n\nis.nan(vector)\n\n[1] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE  TRUE\n\nis.infinite(vector)\n\n[1] FALSE FALSE FALSE FALSE FALSE FALSE FALSE  TRUE FALSE"
  },
  {
    "objectID": "P1.html#funciones",
    "href": "P1.html#funciones",
    "title": "1  Primer acercamiento al uso del programa",
    "section": "1.6 Funciones",
    "text": "1.6 Funciones\nAlgunas funciones básicas son las siguientes. Vamos a ir viendo más funciones, pero para entender cómo funcionan, haremos unos ejemplos y cómo pedir ayuda sobre ellas.\n\nsum(10, 20, 30)    # Función suma\n\n[1] 60\n\nrep('R', times = 3) # Repite la letra R el numero de veces que se indica\n\n[1] \"R\" \"R\" \"R\"\n\nsqrt(9)           # Raiz cuadrada de 9\n\n[1] 3"
  },
  {
    "objectID": "P1.html#listas",
    "href": "P1.html#listas",
    "title": "1  Primer acercamiento al uso del programa",
    "section": "1.7 Listas",
    "text": "1.7 Listas\nLas listas son conjuntos de objetos y pueden ser de varios tipos\n\nmilista<- list(data, m, xx, \"a\")\n\n\nmilista\n\n[[1]]\n  entero factor    numero cadena\n1      1      a 1.0000000      a\n2      2      b 0.5000000      b\n3      3      c 0.3333333      c\n4      4      d 0.2500000      d\n\n[[2]]\n     [,1] [,2] [,3]\n[1,]    1    3    5\n[2,]    2    4    6\n\n[[3]]\n[1] 10 11 12\n\n[[4]]\n[1] \"a\"\n\n\nOjo con los corchetes\n\nmilista[[1]]\n\n  entero factor    numero cadena\n1      1      a 1.0000000      a\n2      2      b 0.5000000      b\n3      3      c 0.3333333      c\n4      4      d 0.2500000      d\n\n\nSi queremos ponerle nombres a los elementos\n\nmilista<- list(datos = data, \n               matriz = m, \n               vector = xx,\n               valor = \"a\")\n\nmilista\n\n$datos\n  entero factor    numero cadena\n1      1      a 1.0000000      a\n2      2      b 0.5000000      b\n3      3      c 0.3333333      c\n4      4      d 0.2500000      d\n\n$matriz\n     [,1] [,2] [,3]\n[1,]    1    3    5\n[2,]    2    4    6\n\n$vector\n[1] 10 11 12\n\n$valor\n[1] \"a\""
  },
  {
    "objectID": "P1.html#ayuda",
    "href": "P1.html#ayuda",
    "title": "1  Primer acercamiento al uso del programa",
    "section": "1.8 Ayuda",
    "text": "1.8 Ayuda\nPedir ayuda es indispensable para aprender a escribir nuestros códigos. A prueba y error, es el mejor sistema para aprender. Podemos usar la función help, example y ?\n\nhelp(sum)         # Ayuda sobre función sum\nexample(sum)      # Ejemplo de función sum\n\n\nsum> ## Pass a vector to sum, and it will add the elements together.\nsum> sum(1:5)\n[1] 15\n\nsum> ## Pass several numbers to sum, and it also adds the elements.\nsum> sum(1, 2, 3, 4, 5)\n[1] 15\n\nsum> ## In fact, you can pass vectors into several arguments, and everything gets added.\nsum> sum(1:2, 3:5)\n[1] 15\n\nsum> ## If there are missing values, the sum is unknown, i.e., also missing, ....\nsum> sum(1:5, NA)\n[1] NA\n\nsum> ## ... unless  we exclude missing values explicitly:\nsum> sum(1:5, NA, na.rm = TRUE)\n[1] 15"
  },
  {
    "objectID": "P1.html#mi-ambiente",
    "href": "P1.html#mi-ambiente",
    "title": "1  Primer acercamiento al uso del programa",
    "section": "1.9 Mi ambiente",
    "text": "1.9 Mi ambiente\nTodos los objetos que hemos declarado hasta ahora son parte de nuestro “ambiente” (environment). Para saber qué está en nuestro ambiente usamos el comando\n\nls()\n\n [1] \"data\"         \"m\"            \"mi_dataframe\" \"mi_matrix\"    \"milista\"     \n [6] \"n\"            \"sex\"          \"vector\"       \"x\"            \"xx\"          \n[11] \"y\"            \"yy\"          \n\ngc()           # Garbage collection, reporta memoria en uso\n\n          used (Mb) gc trigger (Mb) limit (Mb) max used (Mb)\nNcells  638799 34.2    1344262 71.8         NA  1344262 71.8\nVcells 1196140  9.2    8388608 64.0      16384  2161131 16.5\n\n\nPara borrar todos nuestros objetos, usamos el siguiente comando, que equivale a usar la escobita de la venta de environment\n\nrm(list=ls())  # Borrar objetos actuales"
  },
  {
    "objectID": "P1.html#directorio-de-trabajo",
    "href": "P1.html#directorio-de-trabajo",
    "title": "1  Primer acercamiento al uso del programa",
    "section": "1.10 Directorio de trabajo",
    "text": "1.10 Directorio de trabajo\nEs muy útil saber dónde estamos trabajando y donde queremos trabajar. Por eso podemos utilizar los siguientes comandos para saberlo\nOjo, checa, si estás desdes una PC, cómo cambian las “” por”/” o por “\\”\n\ngetwd()           # Directorio actual\n\n[1] \"/Users/anaescoto/Dropbox/2024/Curso_R_inter/r_analisis_datos/r_analisis_datos\"\n\n#setwd(\"\")# Cambio de directorio\n\nlist.files()      # Lista de archivos en ese directorio\n\n [1] \"Mi_Exportación.xlsx\"      \"P1.qmd\"                  \n [3] \"P1.rmarkdown\"             \"P2.qmd\"                  \n [5] \"P3.qmd\"                   \"README.md\"               \n [7] \"_quarto.yml\"              \"datos\"                   \n [9] \"docs\"                     \"index.html\"              \n[11] \"index.qmd\"                \"instala.html\"            \n[13] \"instala.qmd\"              \"intro1.png\"              \n[15] \"mi_exportacion.sav\"       \"mi_primer_ambiente.RData\"\n[17] \"miexportacion.dta\"        \"nombres_limpios.xlsx\"    \n[19] \"r_analisis_datos.Rproj\"   \"scripts\"                 \n[21] \"site_libs\"                \"videos.qmd\"              \n[23] \"~$nombres_limpios.xlsx\"  \n\n\nChecar que esto también se puede hacer desde el menú:\n\n\n\ni0"
  },
  {
    "objectID": "P1.html#proyectos",
    "href": "P1.html#proyectos",
    "title": "1  Primer acercamiento al uso del programa",
    "section": "1.11 Proyectos",
    "text": "1.11 Proyectos\nPero… a veces preferimos trabajar en proyectos, sobre todo porque nos da más control.\nHay gente que lo dice mejor que yo, como Hadley Wickham: https://es.r4ds.hadley.nz/flujo-de-trabajo-proyectos.html"
  },
  {
    "objectID": "P1.html#instalación-de-paquetes",
    "href": "P1.html#instalación-de-paquetes",
    "title": "1  Primer acercamiento al uso del programa",
    "section": "1.12 Instalación de paquetes",
    "text": "1.12 Instalación de paquetes\nLos paquetes son útiles para realizar funciones especiales. La especialización de paquetes es más rápida en R que en otros programas por ser software libre.\nVamos a instalar el paquete {foreign}, como su nombre lo indica, nos permite leer elementos “extranjeros” en R.\nPara instalar las paqueterías usamos el siguiente comando install.packages() Checa que adentro del paréntesis va el nombre de la librería, con comillas.\nVamos a instalar dos librerías que nos permiten importar formatos.\n\n#install.packages(\"foreign\", dependencies = TRUE)\n#install.packages(\"haven\", dependencies = TRUE)\n\nEste proceso no hay que hacerlo siempre. Si no sólo la primera vez. Una vez instalado un paquete de librería, la llamamos con el comando “library”\n\nlibrary(haven)\nlibrary(foreign)\n\n{foreing} nos permite leer archivos en formato de dBase, con extensión “.dbf”. Si bien no es un formato muy común para los investigadores, sí para los que generan la información, puesto que dBase es uno de los principales programas de administración de bases de datos.\nHe puesto un ejemplo de una base de datos mexicana en dbf, en este formato.\n\nejemplo_dbf<-foreign::read.dbf(\"datos/ejemplo_dbf.DBF\") #checa cómo nos vamos adentro de nuestro directorio\n\nLos :: sirven para tres cosas:\n\ncargar un comando de un paquete, sin haberlo cargado\npara identificar de qué paquete viene el comando.\npara especificar en caso que hayan dos comandos iguales en un paquete, usar el que tenemos de los paquetes."
  },
  {
    "objectID": "P1.html#paquete-pacman",
    "href": "P1.html#paquete-pacman",
    "title": "1  Primer acercamiento al uso del programa",
    "section": "1.13 Paquete {pacman}",
    "text": "1.13 Paquete {pacman}\nEn general, cuando hacemos nuestro código querremos verificar que nuestras librerías estén instaladas. Si actualizamos nuestro R y Rstudio es probable (sobre todo en MAC) que hayamos perdido alguno.\nEste es un ejemplo de un código. Y vamos a introducir un paquete muy útil llamado {pacman}\n\nif (!require(\"pacman\")) install.packages(\"pacman\") # instala pacman si se requiere\n\nCargando paquete requerido: pacman\n\npacman::p_load(tidyverse, readxl, writexl, haven, sjlabelled, foreign) #carga los paquetes necesarios para esta práctica\n\nHay muchos formatos de almacenamiento de bases de datos. Vamos a aprender a importar información desde ellos."
  },
  {
    "objectID": "P1.html#estilos",
    "href": "P1.html#estilos",
    "title": "1  Primer acercamiento al uso del programa",
    "section": "1.14 Estilos",
    "text": "1.14 Estilos\nEscribir código tiene su gramática. Por lo general en este curso seguiremos el estilo de Google\nhttps://google.github.io/styleguide/Rguide.html"
  },
  {
    "objectID": "P1.html#ejercicio-1",
    "href": "P1.html#ejercicio-1",
    "title": "1  Primer acercamiento al uso del programa",
    "section": "1.15 Ejercicio 1",
    "text": "1.15 Ejercicio 1\nRealice en un nuevo script lo siguiente:\n\nEscriba un vector “x”, con los elementos 2,3,7,9. Muestre el resultado\nEscriba un vector “y”, con los elementos 9, 7, 3, 2. Muestre el resultado\nEscriba un vector “year” con los años que van desde 1990 a 1993. Muestre el resultado\nEscriba un vector “name” con los nombres de 4 de sus compañeros de curso. Muestre el resultado\nCree una matrix “m” 2x4 que incluya los valores 101 a 108, que se ordene según fila\n¿Cuáles son las dimensiones de la matriz “m”?\nCree una matriz “m2” juntado los vectores “x” y “y”, por sus filas ¿Cuáles son las dimensiones de la matriz “m2”?\nConvierta esa matriz en un data.frame\nEscriba una lista\n\nEntregue su resultado en este formulario"
  },
  {
    "objectID": "P2.html#datos",
    "href": "P2.html#datos",
    "title": "2  Manejo de datos: importación, selección y revisión",
    "section": "2.1 Datos",
    "text": "2.1 Datos\nGuarda en tu carpeta de datos, la información que está acá (ayer descargamos algunos archivos, agregué dos más)"
  },
  {
    "objectID": "P2.html#paquetes",
    "href": "P2.html#paquetes",
    "title": "2  Manejo de datos: importación, selección y revisión",
    "section": "2.2 Paquetes",
    "text": "2.2 Paquetes\nVamos a llamar algunas paqueterías básicas para la práctica de hoy.\n\nif (!require(\"pacman\")) install.packages(\"pacman\") # instala pacman si se requiere\n\nCargando paquete requerido: pacman\n\npacman::p_load(tidyverse,\n               readr,\n               readxl,\n               writexl,\n               haven, \n               magrittr,\n               skimr,\n               sjlabelled,\n               foreign,\n               janitor) #carga los paquetes necesarios para esta práctica"
  },
  {
    "objectID": "P2.html#importación-de-datos",
    "href": "P2.html#importación-de-datos",
    "title": "2  Manejo de datos: importación, selección y revisión",
    "section": "2.3 Importación de datos",
    "text": "2.3 Importación de datos\n\n2.3.1 Desde Excel\nEl paquete más compatible con RStudio es {readxl}. Como su nombre dice “lee” los archivos de excel\n\nejemploxl <- readxl::read_excel(\"datos/ejemplo_xlsx.xlsx\", sheet = \"para_importar\")\n\nNew names:\n• `` -> `...128`\n• `` -> `...129`\n• `` -> `...132`\n• `PIB (Paridad de Poder Adquisitivo)` -> `PIB (Paridad de Poder\n  Adquisitivo)...135`\n• `PIB (Paridad de Poder Adquisitivo)` -> `PIB (Paridad de Poder\n  Adquisitivo)...136`\n• `PIB per cápita (Paridad de Poder Adquisitivo)` -> `PIB per cápita (Paridad\n  de Poder Adquisitivo)...137`\n• `PIB per cápita (Paridad de Poder Adquisitivo)` -> `PIB per cápita (Paridad\n  de Poder Adquisitivo)...138`\n• `PIB per cápita` -> `PIB per cápita...139`\n• `PIB per cápita` -> `PIB per cápita...140`\n• `PIB` -> `PIB...141`\n• `PIB` -> `PIB...142`\n\n\nComo el nombre de paquete lo indica, sólo lee. Para “escribir” en este formato, recomiendo el paquete {writexl}. Lo instalamos anteriormente.\nSi quisiéramos exportar un objeto a Excel, se hace de la siguiente forma:\n\nwritexl::write_xlsx(ejemploxl, path = \"Mi_Exportación.xlsx\")\n\n\n\n2.3.2 Desde STATA y SPSS\nSi bien también se puede realizar desde el paquete {foreign} Pero este no importa algunas características como las etiquetas y tampoco funciona con las versiones más nuevas de STATA. Vamos a instalar otro paquete, compatible con el mundo {tidyverse}.\nRecuerda que no hay que instalarlo (viene adentro de {tidyverse}).\n\nconcentradohogar <- haven::read_dta(\"datos/concentradohogar.dta\")\n\n!Importante, a R no le gustan los objetos con nombres que empiezan en números\nEl paquete haven sí exporta información.\n\nhaven::write_dta(concentradohogar,\n                 \"datos/mi_exportación.dta\",\n                 version = 12)\n\nCon SSPS es muy parecido. Dentro de {haven} hay una función específica para ello.\n\nconcentradohogarr<- haven::read_sav(\"datos/concentradohogar.sav\")\n\nPara escribir\n\nhaven::write_sav(concentradohogar , \"mi_exportacion.sav\")\n\nCheca que en todas las exportaciones en los nombres hay que incluir la extensión del programa. Si quieres guardar en un lugar diferente al directorio del trabajo, hay que escribir toda la ruta dentro de la computadora.\n\n\n2.3.3 Desde archivos de texto y de una url\nDesde el portal https://datos.gob.mx/ tenemos acceso a directo a varias fuentes de información, al ser datos abiertos, los archivos de texto son muy comunes.\nLeeremos parte de esa información, específicamente de las proyecciones de CONAPO\n\nmig_inter_quin_proyecciones <- read.csv(\"https://conapo.segob.gob.mx/work/models/CONAPO/Datos_Abiertos/pry23/02_mig_inter_quinquen_proyecciones.csv\")\nnames(mig_inter_quin_proyecciones)\n\n[1] \"RENGLON\"     \"AÑO\"         \"ENTIDAD\"     \"CVE_GEO\"     \"EDAD\"       \n[6] \"SEXO\"        \"EMIGRANTES\"  \"INMIGRANTES\"\n\n\n\nmig_inter_quin_proyecciones <- readr::read_csv(\"https://conapo.segob.gob.mx/work/models/CONAPO/Datos_Abiertos/pry23/02_mig_inter_quinquen_proyecciones.csv\")\n\nRows: 23904 Columns: 8\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (4): AÑO, ENTIDAD, EDAD, SEXO\ndbl (4): RENGLON, CVE_GEO, EMIGRANTES, INMIGRANTES\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\nnames(mig_inter_quin_proyecciones)\n\n[1] \"RENGLON\"     \"AÑO\"         \"ENTIDAD\"     \"CVE_GEO\"     \"EDAD\"       \n[6] \"SEXO\"        \"EMIGRANTES\"  \"INMIGRANTES\""
  },
  {
    "objectID": "P2.html#revisión-de-nuestro-conjunto-de-datos",
    "href": "P2.html#revisión-de-nuestro-conjunto-de-datos",
    "title": "2  Manejo de datos: importación, selección y revisión",
    "section": "2.4 Revisión de nuestro conjunto de datos",
    "text": "2.4 Revisión de nuestro conjunto de datos\n\n2.4.1 con base\nVamos a revisar la base, brevemente la base\n\nclass(concentradohogar) # tipo de objeto\n\n[1] \"tbl_df\"     \"tbl\"        \"data.frame\"\n\nnames(concentradohogar) # lista las variables\n\n  [1] \"folioviv\"   \"foliohog\"   \"ubica_geo\"  \"tam_loc\"    \"est_socio\" \n  [6] \"est_dis\"    \"upm\"        \"factor\"     \"clase_hog\"  \"sexo_jefe\" \n [11] \"edad_jefe\"  \"educa_jefe\" \"tot_integ\"  \"hombres\"    \"mujeres\"   \n [16] \"mayores\"    \"menores\"    \"p12_64\"     \"p65mas\"     \"ocupados\"  \n [21] \"percep_ing\" \"perc_ocupa\" \"ing_cor\"    \"ingtrab\"    \"trabajo\"   \n [26] \"sueldos\"    \"horas_extr\" \"comisiones\" \"aguinaldo\"  \"indemtrab\" \n [31] \"otra_rem\"   \"remu_espec\" \"negocio\"    \"noagrop\"    \"industria\" \n [36] \"comercio\"   \"servicios\"  \"agrope\"     \"agricolas\"  \"pecuarios\" \n [41] \"reproducc\"  \"pesca\"      \"otros_trab\" \"rentas\"     \"utilidad\"  \n [46] \"arrenda\"    \"transfer\"   \"jubilacion\" \"becas\"      \"donativos\" \n [51] \"remesas\"    \"bene_gob\"   \"transf_hog\" \"trans_inst\" \"estim_alqu\"\n [56] \"otros_ing\"  \"gasto_mon\"  \"alimentos\"  \"ali_dentro\" \"cereales\"  \n [61] \"carnes\"     \"pescado\"    \"leche\"      \"huevo\"      \"aceites\"   \n [66] \"tuberculo\"  \"verduras\"   \"frutas\"     \"azucar\"     \"cafe\"      \n [71] \"especias\"   \"otros_alim\" \"bebidas\"    \"ali_fuera\"  \"tabaco\"    \n [76] \"vesti_calz\" \"vestido\"    \"calzado\"    \"vivienda\"   \"alquiler\"  \n [81] \"pred_cons\"  \"agua\"       \"energia\"    \"limpieza\"   \"cuidados\"  \n [86] \"utensilios\" \"enseres\"    \"salud\"      \"atenc_ambu\" \"hospital\"  \n [91] \"medicinas\"  \"transporte\" \"publico\"    \"foraneo\"    \"adqui_vehi\"\n [96] \"mantenim\"   \"refaccion\"  \"combus\"     \"comunica\"   \"educa_espa\"\n[101] \"educacion\"  \"esparci\"    \"paq_turist\" \"personales\" \"cuida_pers\"\n[106] \"acces_pers\" \"otros_gas\"  \"transf_gas\" \"percep_tot\" \"retiro_inv\"\n[111] \"prestamos\"  \"otras_perc\" \"ero_nm_viv\" \"ero_nm_hog\" \"erogac_tot\"\n[116] \"cuota_viv\"  \"mater_serv\" \"material\"   \"servicio\"   \"deposito\"  \n[121] \"prest_terc\" \"pago_tarje\" \"deudas\"     \"balance\"    \"otras_erog\"\n[126] \"smg\"       \n\nhead(concentradohogar) # muestra las primeras 6 líneas\n\n# A tibble: 6 × 126\n  folioviv   foliohog ubica_geo tam_loc est_socio est_dis upm   factor clase_hog\n  <chr>      <chr>    <chr>     <chr>   <chr>     <chr>   <chr>  <dbl> <chr>    \n1 0100005002 1        01001     1       4         003     0000…    206 3        \n2 0100005003 1        01001     1       4         003     0000…    206 2        \n3 0100005004 1        01001     1       4         003     0000…    206 2        \n4 0100012002 1        01001     1       3         002     0000…    167 3        \n5 0100012002 2        01001     1       3         002     0000…    167 1        \n6 0100012004 1        01001     1       3         002     0000…    167 2        \n# ℹ 117 more variables: sexo_jefe <chr>, edad_jefe <dbl>, educa_jefe <chr>,\n#   tot_integ <dbl>, hombres <dbl>, mujeres <dbl>, mayores <dbl>,\n#   menores <dbl>, p12_64 <dbl>, p65mas <dbl>, ocupados <dbl>,\n#   percep_ing <dbl>, perc_ocupa <dbl>, ing_cor <dbl>, ingtrab <dbl>,\n#   trabajo <dbl>, sueldos <dbl>, horas_extr <dbl>, comisiones <dbl>,\n#   aguinaldo <dbl>, indemtrab <dbl>, otra_rem <dbl>, remu_espec <dbl>,\n#   negocio <dbl>, noagrop <dbl>, industria <dbl>, comercio <dbl>, …\n\ntable(concentradohogar$sexo_jefe) # un tabulado simple\n\n\n    1     2 \n61905 28197 \n\n\n\n\n2.4.2 Revisión con {skimr}\nEsto se puede tardar un poquito\n\nskimr::skim(concentradohogar)\n\n\nData summary\n\n\nName\nconcentradohogar\n\n\nNumber of rows\n90102\n\n\nNumber of columns\n126\n\n\n_______________________\n\n\n\nColumn type frequency:\n\n\n\ncharacter\n10\n\n\nnumeric\n116\n\n\n________________________\n\n\n\nGroup variables\nNone\n\n\n\nVariable type: character\n\n\n\n\n\n\n\n\n\n\n\n\n\nskim_variable\nn_missing\ncomplete_rate\nmin\nmax\nempty\nn_unique\nwhitespace\n\n\n\n\nfolioviv\n0\n1\n10\n10\n0\n88823\n0\n\n\nfoliohog\n0\n1\n1\n1\n0\n5\n0\n\n\nubica_geo\n0\n1\n5\n5\n0\n1132\n0\n\n\ntam_loc\n0\n1\n1\n1\n0\n4\n0\n\n\nest_socio\n0\n1\n1\n1\n0\n4\n0\n\n\nest_dis\n0\n1\n3\n3\n0\n560\n0\n\n\nupm\n0\n1\n7\n7\n0\n10211\n0\n\n\nclase_hog\n0\n1\n1\n1\n0\n5\n0\n\n\nsexo_jefe\n0\n1\n1\n1\n0\n2\n0\n\n\neduca_jefe\n0\n1\n2\n2\n0\n11\n0\n\n\n\nVariable type: numeric\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nskim_variable\nn_missing\ncomplete_rate\nmean\nsd\np0\np25\np50\np75\np100\nhist\n\n\n\n\nfactor\n0\n1\n416.86\n419.41\n6.0\n156.00\n283.00\n530.00\n6470.00\n▇▁▁▁▁\n\n\nedad_jefe\n0\n1\n51.23\n15.91\n13.0\n39.00\n50.00\n63.00\n109.00\n▂▇▇▂▁\n\n\ntot_integ\n0\n1\n3.44\n1.78\n1.0\n2.00\n3.00\n4.00\n19.00\n▇▂▁▁▁\n\n\nhombres\n0\n1\n1.66\n1.12\n0.0\n1.00\n1.00\n2.00\n12.00\n▇▂▁▁▁\n\n\nmujeres\n0\n1\n1.78\n1.17\n0.0\n1.00\n2.00\n2.00\n11.00\n▇▂▁▁▁\n\n\nmayores\n0\n1\n2.78\n1.36\n1.0\n2.00\n3.00\n4.00\n15.00\n▇▃▁▁▁\n\n\nmenores\n0\n1\n0.65\n0.95\n0.0\n0.00\n0.00\n1.00\n9.00\n▇▂▁▁▁\n\n\np12_64\n0\n1\n2.45\n1.49\n0.0\n1.00\n2.00\n3.00\n15.00\n▇▂▁▁▁\n\n\np65mas\n0\n1\n0.33\n0.62\n0.0\n0.00\n0.00\n1.00\n4.00\n▇▂▁▁▁\n\n\nocupados\n0\n1\n1.66\n1.09\n0.0\n1.00\n2.00\n2.00\n11.00\n▇▂▁▁▁\n\n\npercep_ing\n0\n1\n2.26\n1.18\n0.0\n1.00\n2.00\n3.00\n16.00\n▇▁▁▁▁\n\n\nperc_ocupa\n0\n1\n1.61\n1.06\n0.0\n1.00\n1.00\n2.00\n12.00\n▇▂▁▁▁\n\n\ning_cor\n0\n1\n61489.96\n78324.84\n0.0\n28385.69\n46073.68\n74343.65\n7153770.46\n▇▁▁▁▁\n\n\ningtrab\n0\n1\n40359.54\n52327.25\n0.0\n12170.67\n29899.10\n54327.95\n5891913.57\n▇▁▁▁▁\n\n\ntrabajo\n0\n1\n33514.63\n44828.95\n0.0\n49.18\n23867.40\n47445.65\n3771994.00\n▇▁▁▁▁\n\n\nsueldos\n0\n1\n28866.79\n37377.13\n0.0\n0.00\n21130.43\n41086.95\n2655737.70\n▇▁▁▁▁\n\n\nhoras_extr\n0\n1\n292.47\n1995.00\n0.0\n0.00\n0.00\n0.00\n110543.47\n▇▁▁▁▁\n\n\ncomisiones\n0\n1\n879.37\n6484.49\n0.0\n0.00\n0.00\n0.00\n690491.80\n▇▁▁▁▁\n\n\naguinaldo\n0\n1\n1489.57\n3781.67\n0.0\n0.00\n0.00\n1475.40\n293478.25\n▇▁▁▁▁\n\n\nindemtrab\n0\n1\n129.04\n3639.71\n0.0\n0.00\n0.00\n0.00\n449999.99\n▇▁▁▁▁\n\n\notra_rem\n0\n1\n654.77\n3389.42\n0.0\n0.00\n0.00\n0.00\n225245.89\n▇▁▁▁▁\n\n\nremu_espec\n0\n1\n1202.61\n11869.30\n0.0\n0.00\n0.00\n0.00\n3015428.52\n▇▁▁▁▁\n\n\nnegocio\n0\n1\n5525.91\n28303.90\n0.0\n0.00\n0.00\n1549.18\n5712891.84\n▇▁▁▁▁\n\n\nnoagrop\n0\n1\n4374.96\n17327.48\n0.0\n0.00\n0.00\n0.00\n1114679.34\n▇▁▁▁▁\n\n\nindustria\n0\n1\n997.87\n8092.96\n0.0\n0.00\n0.00\n0.00\n1114679.34\n▇▁▁▁▁\n\n\ncomercio\n0\n1\n1466.54\n11309.68\n0.0\n0.00\n0.00\n0.00\n889369.06\n▇▁▁▁▁\n\n\nservicios\n0\n1\n1910.54\n10479.11\n0.0\n0.00\n0.00\n0.00\n889524.59\n▇▁▁▁▁\n\n\nagrope\n0\n1\n1150.96\n22407.72\n0.0\n0.00\n0.00\n0.00\n5712891.84\n▇▁▁▁▁\n\n\nagricolas\n0\n1\n584.18\n9493.09\n0.0\n0.00\n0.00\n0.00\n1473748.04\n▇▁▁▁▁\n\n\npecuarios\n0\n1\n489.26\n19957.84\n0.0\n0.00\n0.00\n0.00\n5712891.84\n▇▁▁▁▁\n\n\nreproducc\n0\n1\n29.05\n1651.04\n0.0\n0.00\n0.00\n0.00\n424032.78\n▇▁▁▁▁\n\n\npesca\n0\n1\n48.46\n1442.87\n0.0\n0.00\n0.00\n0.00\n154190.54\n▇▁▁▁▁\n\n\notros_trab\n0\n1\n1319.00\n7439.20\n0.0\n0.00\n0.00\n0.00\n1257295.08\n▇▁▁▁▁\n\n\nrentas\n0\n1\n3585.66\n51810.69\n0.0\n0.00\n0.00\n0.00\n6854754.09\n▇▁▁▁▁\n\n\nutilidad\n0\n1\n2922.56\n50880.21\n0.0\n0.00\n0.00\n0.00\n6854754.09\n▇▁▁▁▁\n\n\narrenda\n0\n1\n663.09\n7270.20\n0.0\n0.00\n0.00\n0.00\n733695.65\n▇▁▁▁▁\n\n\ntransfer\n0\n1\n10901.15\n21915.52\n0.0\n0.00\n3692.92\n12913.03\n1001867.40\n▇▁▁▁▁\n\n\njubilacion\n0\n1\n4722.85\n17245.75\n0.0\n0.00\n0.00\n0.00\n688524.59\n▇▁▁▁▁\n\n\nbecas\n0\n1\n105.17\n1548.61\n0.0\n0.00\n0.00\n0.00\n153831.51\n▇▁▁▁▁\n\n\ndonativos\n0\n1\n1305.04\n5071.83\n0.0\n0.00\n0.00\n0.00\n413114.75\n▇▁▁▁▁\n\n\nremesas\n0\n1\n848.70\n5791.98\n0.0\n0.00\n0.00\n0.00\n238524.59\n▇▁▁▁▁\n\n\nbene_gob\n0\n1\n1849.19\n3366.51\n0.0\n0.00\n0.00\n2611.22\n63195.64\n▇▁▁▁▁\n\n\ntransf_hog\n0\n1\n1512.32\n4697.95\n0.0\n0.00\n0.00\n771.42\n465000.00\n▇▁▁▁▁\n\n\ntrans_inst\n0\n1\n557.90\n7606.45\n0.0\n0.00\n0.00\n0.00\n978260.86\n▇▁▁▁▁\n\n\nestim_alqu\n0\n1\n6592.66\n8338.00\n0.0\n2903.22\n4500.00\n8709.67\n348387.09\n▇▁▁▁▁\n\n\notros_ing\n0\n1\n50.95\n973.27\n0.0\n0.00\n0.00\n0.00\n73369.56\n▇▁▁▁▁\n\n\ngasto_mon\n0\n1\n37615.18\n34649.23\n0.0\n18561.37\n29678.83\n45901.43\n1703575.17\n▇▁▁▁▁\n\n\nalimentos\n0\n1\n14046.16\n11010.37\n0.0\n7482.73\n11957.05\n17961.27\n849839.62\n▇▁▁▁▁\n\n\nali_dentro\n0\n1\n11533.55\n7834.39\n0.0\n6197.01\n10144.16\n15158.38\n302942.31\n▇▁▁▁▁\n\n\ncereales\n0\n1\n2052.96\n1570.90\n0.0\n977.12\n1761.40\n2751.39\n32631.39\n▇▁▁▁▁\n\n\ncarnes\n0\n1\n2493.10\n2847.37\n0.0\n359.99\n1774.27\n3689.96\n157448.49\n▇▁▁▁▁\n\n\npescado\n0\n1\n248.92\n857.41\n0.0\n0.00\n0.00\n0.00\n60685.70\n▇▁▁▁▁\n\n\nleche\n0\n1\n1011.34\n1277.08\n0.0\n0.00\n642.85\n1427.11\n32014.25\n▇▁▁▁▁\n\n\nhuevo\n0\n1\n515.33\n595.19\n0.0\n0.00\n385.71\n848.56\n9218.54\n▇▁▁▁▁\n\n\naceites\n0\n1\n214.21\n446.77\n0.0\n0.00\n0.00\n347.14\n13395.84\n▇▁▁▁▁\n\n\ntuberculo\n0\n1\n198.87\n337.12\n0.0\n0.00\n0.00\n321.42\n12857.14\n▇▁▁▁▁\n\n\nverduras\n0\n1\n1241.79\n1234.53\n0.0\n321.42\n977.12\n1810.20\n54784.26\n▇▁▁▁▁\n\n\nfrutas\n0\n1\n469.28\n841.42\n0.0\n0.00\n0.00\n642.85\n38571.42\n▇▁▁▁▁\n\n\nazucar\n0\n1\n109.78\n293.17\n0.0\n0.00\n0.00\n0.00\n25714.28\n▇▁▁▁▁\n\n\ncafe\n0\n1\n120.40\n377.98\n0.0\n0.00\n0.00\n0.00\n12471.42\n▇▁▁▁▁\n\n\nespecias\n0\n1\n108.18\n284.00\n0.0\n0.00\n0.00\n64.28\n13139.99\n▇▁▁▁▁\n\n\notros_alim\n0\n1\n1651.95\n2858.15\n0.0\n0.00\n321.42\n2314.28\n55028.54\n▇▁▁▁▁\n\n\nbebidas\n0\n1\n1097.43\n1570.63\n0.0\n218.57\n719.99\n1480.50\n128237.11\n▇▁▁▁▁\n\n\nali_fuera\n0\n1\n2445.31\n6907.11\n0.0\n0.00\n0.00\n2571.42\n802542.78\n▇▁▁▁▁\n\n\ntabaco\n0\n1\n67.31\n449.34\n0.0\n0.00\n0.00\n0.00\n19234.27\n▇▁▁▁▁\n\n\nvesti_calz\n0\n1\n1470.03\n2611.47\n0.0\n0.00\n684.77\n1858.68\n131191.33\n▇▁▁▁▁\n\n\nvestido\n0\n1\n906.82\n1863.60\n0.0\n0.00\n273.91\n1105.42\n96050.32\n▇▁▁▁▁\n\n\ncalzado\n0\n1\n563.21\n1092.30\n0.0\n0.00\n107.60\n733.69\n47739.11\n▇▁▁▁▁\n\n\nvivienda\n0\n1\n3361.12\n5429.41\n0.0\n1020.00\n2160.00\n3862.21\n604814.51\n▇▁▁▁▁\n\n\nalquiler\n0\n1\n1031.01\n4667.52\n0.0\n0.00\n0.00\n0.00\n581951.61\n▇▁▁▁▁\n\n\npred_cons\n0\n1\n180.63\n1100.52\n0.0\n0.00\n0.00\n87.50\n116400.00\n▇▁▁▁▁\n\n\nagua\n0\n1\n407.19\n776.34\n0.0\n0.00\n240.00\n540.00\n78000.00\n▇▁▁▁▁\n\n\nenergia\n0\n1\n1742.29\n1743.06\n0.0\n553.69\n1400.80\n2400.00\n113080.64\n▇▁▁▁▁\n\n\nlimpieza\n0\n1\n2345.68\n3932.56\n0.0\n771.00\n1379.01\n2481.43\n302696.82\n▇▁▁▁▁\n\n\ncuidados\n0\n1\n1745.97\n2833.03\n0.0\n678.00\n1158.36\n1896.00\n128197.70\n▇▁▁▁▁\n\n\nutensilios\n0\n1\n218.77\n1378.17\n0.0\n0.00\n0.00\n0.00\n294740.20\n▇▁▁▁▁\n\n\nenseres\n0\n1\n380.94\n1649.55\n0.0\n0.00\n0.00\n0.00\n90098.34\n▇▁▁▁▁\n\n\nsalud\n0\n1\n1270.55\n5662.22\n0.0\n0.00\n146.73\n841.29\n324547.74\n▇▁▁▁▁\n\n\natenc_ambu\n0\n1\n903.67\n4754.37\n0.0\n0.00\n0.00\n538.03\n283695.64\n▇▁▁▁▁\n\n\nhospital\n0\n1\n152.99\n2368.65\n0.0\n0.00\n0.00\n0.00\n241434.73\n▇▁▁▁▁\n\n\nmedicinas\n0\n1\n213.90\n1294.84\n0.0\n0.00\n0.00\n97.82\n127464.42\n▇▁▁▁▁\n\n\ntransporte\n0\n1\n7538.59\n12471.10\n0.0\n1975.75\n4803.31\n9299.92\n491168.39\n▇▁▁▁▁\n\n\npublico\n0\n1\n1365.08\n2596.60\n0.0\n0.00\n0.00\n1851.41\n137031.32\n▇▁▁▁▁\n\n\nforaneo\n0\n1\n205.99\n1200.95\n0.0\n0.00\n0.00\n0.00\n88011.04\n▇▁▁▁▁\n\n\nadqui_vehi\n0\n1\n1045.70\n9662.96\n0.0\n0.00\n0.00\n0.00\n489130.43\n▇▁▁▁▁\n\n\nmantenim\n0\n1\n3122.62\n4882.43\n0.0\n0.00\n929.03\n4770.49\n113684.95\n▇▁▁▁▁\n\n\nrefaccion\n0\n1\n275.12\n1029.55\n0.0\n0.00\n0.00\n0.00\n39130.43\n▇▁▁▁▁\n\n\ncombus\n0\n1\n2847.50\n4483.70\n0.0\n0.00\n870.96\n4354.83\n113225.80\n▇▁▁▁▁\n\n\ncomunica\n0\n1\n1799.20\n2322.07\n0.0\n580.64\n1380.00\n2409.98\n105366.77\n▇▁▁▁▁\n\n\neduca_espa\n0\n1\n3506.12\n8866.90\n0.0\n0.00\n753.00\n3641.60\n475717.08\n▇▁▁▁▁\n\n\neducacion\n0\n1\n2466.90\n7454.48\n0.0\n0.00\n0.00\n2177.41\n451161.26\n▇▁▁▁▁\n\n\nesparci\n0\n1\n718.84\n2310.87\n0.0\n0.00\n0.00\n747.00\n96406.00\n▇▁▁▁▁\n\n\npaq_turist\n0\n1\n320.39\n2610.74\n0.0\n0.00\n0.00\n0.00\n166304.34\n▇▁▁▁▁\n\n\npersonales\n0\n1\n2953.55\n4402.36\n0.0\n998.69\n1884.00\n3452.78\n296006.96\n▇▁▁▁▁\n\n\ncuida_pers\n0\n1\n2239.89\n2335.69\n0.0\n888.34\n1628.67\n2824.79\n69462.00\n▇▁▁▁▁\n\n\nacces_pers\n0\n1\n94.06\n433.90\n0.0\n0.00\n0.00\n0.00\n23996.72\n▇▁▁▁▁\n\n\notros_gas\n0\n1\n619.60\n3203.71\n0.0\n0.00\n0.00\n48.91\n295256.96\n▇▁▁▁▁\n\n\ntransf_gas\n0\n1\n1123.38\n5306.60\n0.0\n0.00\n0.00\n225.08\n737704.91\n▇▁▁▁▁\n\n\npercep_tot\n0\n1\n3940.89\n40469.54\n0.0\n0.00\n0.00\n2842.18\n8171344.09\n▇▁▁▁▁\n\n\nretiro_inv\n0\n1\n993.91\n14080.54\n0.0\n0.00\n0.00\n0.00\n3480662.98\n▇▁▁▁▁\n\n\nprestamos\n0\n1\n407.08\n4801.37\n0.0\n0.00\n0.00\n0.00\n540983.60\n▇▁▁▁▁\n\n\notras_perc\n0\n1\n877.86\n24750.31\n0.0\n0.00\n0.00\n0.00\n4402173.91\n▇▁▁▁▁\n\n\nero_nm_viv\n0\n1\n40.11\n2162.50\n0.0\n0.00\n0.00\n0.00\n440217.38\n▇▁▁▁▁\n\n\nero_nm_hog\n0\n1\n1621.92\n27703.08\n0.0\n0.00\n0.00\n1349.97\n8171344.09\n▇▁▁▁▁\n\n\nerogac_tot\n0\n1\n7659.37\n43226.39\n0.0\n0.00\n489.13\n6208.52\n5733149.15\n▇▁▁▁▁\n\n\ncuota_viv\n0\n1\n712.97\n3500.36\n0.0\n0.00\n0.00\n0.00\n150000.00\n▇▁▁▁▁\n\n\nmater_serv\n0\n1\n441.57\n4152.57\n0.0\n0.00\n0.00\n0.00\n391304.34\n▇▁▁▁▁\n\n\nmaterial\n0\n1\n267.11\n2604.68\n0.0\n0.00\n0.00\n0.00\n244565.21\n▇▁▁▁▁\n\n\nservicio\n0\n1\n174.46\n2301.69\n0.0\n0.00\n0.00\n0.00\n195652.17\n▇▁▁▁▁\n\n\ndeposito\n0\n1\n4006.25\n31415.73\n0.0\n0.00\n0.00\n1320.65\n4176795.57\n▇▁▁▁▁\n\n\nprest_terc\n0\n1\n125.48\n4000.35\n0.0\n0.00\n0.00\n0.00\n1100543.47\n▇▁▁▁▁\n\n\npago_tarje\n0\n1\n990.75\n9069.74\n0.0\n0.00\n0.00\n0.00\n1640883.97\n▇▁▁▁▁\n\n\ndeudas\n0\n1\n430.28\n2720.39\n0.0\n0.00\n0.00\n0.00\n122282.60\n▇▁▁▁▁\n\n\nbalance\n0\n1\n420.11\n4608.27\n0.0\n0.00\n0.00\n0.00\n496467.39\n▇▁▁▁▁\n\n\notras_erog\n0\n1\n531.96\n14050.93\n0.0\n0.00\n0.00\n0.00\n2934782.60\n▇▁▁▁▁\n\n\nsmg\n0\n1\n15558.30\n0.00\n15558.3\n15558.30\n15558.30\n15558.30\n15558.30\n▁▁▇▁▁"
  },
  {
    "objectID": "P2.html#un-poquito-de-dplyr-y-limpieza",
    "href": "P2.html#un-poquito-de-dplyr-y-limpieza",
    "title": "2  Manejo de datos: importación, selección y revisión",
    "section": "2.5 Un poquito de {dplyr} y limpieza",
    "text": "2.5 Un poquito de {dplyr} y limpieza\n\n2.5.1 Primero, los pipes\nR utiliza dos pipes el nativo |> y el pipe que está en {dplyr} %>%. Algunas de las diferencias las puedes checar acá https://eliocamp.github.io/codigo-r/2021/05/r-pipa-nativa/\nAquí hay un tuit, o post de x.com que lo explica bien.\nhttps://x.com/ArthurWelle/status/1535429654760284161\nEn estas prácticas utilizaremos el segundo, son muy parecidos y así esta instructora pueda reciclar algunos de sus códigos viejos. Pero funcionan igual:\n\nconcentradohogar|> #pipe nativo, no necesita instalación\n  head()\n\n# A tibble: 6 × 126\n  folioviv   foliohog ubica_geo tam_loc est_socio est_dis upm   factor clase_hog\n  <chr>      <chr>    <chr>     <chr>   <chr>     <chr>   <chr>  <dbl> <chr>    \n1 0100005002 1        01001     1       4         003     0000…    206 3        \n2 0100005003 1        01001     1       4         003     0000…    206 2        \n3 0100005004 1        01001     1       4         003     0000…    206 2        \n4 0100012002 1        01001     1       3         002     0000…    167 3        \n5 0100012002 2        01001     1       3         002     0000…    167 1        \n6 0100012004 1        01001     1       3         002     0000…    167 2        \n# ℹ 117 more variables: sexo_jefe <chr>, edad_jefe <dbl>, educa_jefe <chr>,\n#   tot_integ <dbl>, hombres <dbl>, mujeres <dbl>, mayores <dbl>,\n#   menores <dbl>, p12_64 <dbl>, p65mas <dbl>, ocupados <dbl>,\n#   percep_ing <dbl>, perc_ocupa <dbl>, ing_cor <dbl>, ingtrab <dbl>,\n#   trabajo <dbl>, sueldos <dbl>, horas_extr <dbl>, comisiones <dbl>,\n#   aguinaldo <dbl>, indemtrab <dbl>, otra_rem <dbl>, remu_espec <dbl>,\n#   negocio <dbl>, noagrop <dbl>, industria <dbl>, comercio <dbl>, …\n\n\n\nconcentradohogar %>%  #pipe de dplyr, necesita instalación de dplyr en tidyverse\n  head()\n\n# A tibble: 6 × 126\n  folioviv   foliohog ubica_geo tam_loc est_socio est_dis upm   factor clase_hog\n  <chr>      <chr>    <chr>     <chr>   <chr>     <chr>   <chr>  <dbl> <chr>    \n1 0100005002 1        01001     1       4         003     0000…    206 3        \n2 0100005003 1        01001     1       4         003     0000…    206 2        \n3 0100005004 1        01001     1       4         003     0000…    206 2        \n4 0100012002 1        01001     1       3         002     0000…    167 3        \n5 0100012002 2        01001     1       3         002     0000…    167 1        \n6 0100012004 1        01001     1       3         002     0000…    167 2        \n# ℹ 117 more variables: sexo_jefe <chr>, edad_jefe <dbl>, educa_jefe <chr>,\n#   tot_integ <dbl>, hombres <dbl>, mujeres <dbl>, mayores <dbl>,\n#   menores <dbl>, p12_64 <dbl>, p65mas <dbl>, ocupados <dbl>,\n#   percep_ing <dbl>, perc_ocupa <dbl>, ing_cor <dbl>, ingtrab <dbl>,\n#   trabajo <dbl>, sueldos <dbl>, horas_extr <dbl>, comisiones <dbl>,\n#   aguinaldo <dbl>, indemtrab <dbl>, otra_rem <dbl>, remu_espec <dbl>,\n#   negocio <dbl>, noagrop <dbl>, industria <dbl>, comercio <dbl>, …\n\n\n\n\n2.5.2 Limpieza de nombres con {janitor}\nEste paso también nos permitirá enseñar otro pipe que está en el paquete {magrittr}.\nLos nombres de una base de datos son los nombres de las columnas.\n\nnames(concentradohogar)\n\n  [1] \"folioviv\"   \"foliohog\"   \"ubica_geo\"  \"tam_loc\"    \"est_socio\" \n  [6] \"est_dis\"    \"upm\"        \"factor\"     \"clase_hog\"  \"sexo_jefe\" \n [11] \"edad_jefe\"  \"educa_jefe\" \"tot_integ\"  \"hombres\"    \"mujeres\"   \n [16] \"mayores\"    \"menores\"    \"p12_64\"     \"p65mas\"     \"ocupados\"  \n [21] \"percep_ing\" \"perc_ocupa\" \"ing_cor\"    \"ingtrab\"    \"trabajo\"   \n [26] \"sueldos\"    \"horas_extr\" \"comisiones\" \"aguinaldo\"  \"indemtrab\" \n [31] \"otra_rem\"   \"remu_espec\" \"negocio\"    \"noagrop\"    \"industria\" \n [36] \"comercio\"   \"servicios\"  \"agrope\"     \"agricolas\"  \"pecuarios\" \n [41] \"reproducc\"  \"pesca\"      \"otros_trab\" \"rentas\"     \"utilidad\"  \n [46] \"arrenda\"    \"transfer\"   \"jubilacion\" \"becas\"      \"donativos\" \n [51] \"remesas\"    \"bene_gob\"   \"transf_hog\" \"trans_inst\" \"estim_alqu\"\n [56] \"otros_ing\"  \"gasto_mon\"  \"alimentos\"  \"ali_dentro\" \"cereales\"  \n [61] \"carnes\"     \"pescado\"    \"leche\"      \"huevo\"      \"aceites\"   \n [66] \"tuberculo\"  \"verduras\"   \"frutas\"     \"azucar\"     \"cafe\"      \n [71] \"especias\"   \"otros_alim\" \"bebidas\"    \"ali_fuera\"  \"tabaco\"    \n [76] \"vesti_calz\" \"vestido\"    \"calzado\"    \"vivienda\"   \"alquiler\"  \n [81] \"pred_cons\"  \"agua\"       \"energia\"    \"limpieza\"   \"cuidados\"  \n [86] \"utensilios\" \"enseres\"    \"salud\"      \"atenc_ambu\" \"hospital\"  \n [91] \"medicinas\"  \"transporte\" \"publico\"    \"foraneo\"    \"adqui_vehi\"\n [96] \"mantenim\"   \"refaccion\"  \"combus\"     \"comunica\"   \"educa_espa\"\n[101] \"educacion\"  \"esparci\"    \"paq_turist\" \"personales\" \"cuida_pers\"\n[106] \"acces_pers\" \"otros_gas\"  \"transf_gas\" \"percep_tot\" \"retiro_inv\"\n[111] \"prestamos\"  \"otras_perc\" \"ero_nm_viv\" \"ero_nm_hog\" \"erogac_tot\"\n[116] \"cuota_viv\"  \"mater_serv\" \"material\"   \"servicio\"   \"deposito\"  \n[121] \"prest_terc\" \"pago_tarje\" \"deudas\"     \"balance\"    \"otras_erog\"\n[126] \"smg\"       \n\nnames(ejemploxl)\n\n  [1] \"Indicador\"                                                             \n  [2] \"Protección de derechos humanos\"                                        \n  [3] \"Homicidios dolosos\"                                                    \n  [4] \"Costos de la delincuencia en los negocios\"                             \n  [5] \"Confianza en la policía\"                                               \n  [6] \"Imparcialidad de las cortes\"                                           \n  [7] \"Independencia del poder judicial\"                                      \n  [8] \"Protección de derechos de propiedad\"                                   \n  [9] \"Piratería Informática\"                                                 \n [10] \"Protección a acreedores\"                                               \n [11] \"Tiempo para resolver quiebras\"                                         \n [12] \"Cumplimiento de contratos\"                                             \n [13] \"Índice de Estados Frágiles\"                                            \n [14] \"Índice de Estado de Derecho\"                                           \n [15] \"Contaminación del aire\"                                                \n [16] \"Emisiones de CO2\"                                                      \n [17] \"Recursos hídricos renovables\"                                          \n [18] \"Estrés hídrico\"                                                        \n [19] \"Áreas naturales protegidas\"                                            \n [20] \"Superficie forestal perdida\"                                           \n [21] \"Uso de fertilizantes en la agricultura\"                                \n [22] \"Uso de pesticidas\"                                                     \n [23] \"Fuentes de energía no contaminantes\"                                   \n [24] \"Empresas certificadas como limpias\"                                    \n [25] \"Índice de vulnerabilidad a efectos del cambio climático\"               \n [26] \"Índice de Gini\"                                                        \n [27] \"Índice Global de Brecha de Género\"                                     \n [28] \"Mujeres en la PEA\"                                                     \n [29] \"Dependientes de la PEA\"                                                \n [30] \"Acceso a agua\"                                                         \n [31] \"Acceso a alcantarillado\"                                               \n [32] \"Analfabetismo\"                                                         \n [33] \"Cobertura en nivel preescolar\"                                         \n [34] \"Escolaridad promedio\"                                                  \n [35] \"Calidad educativa\"                                                     \n [36] \"Nivel de inglés\"                                                       \n [37] \"Esperanza de vida\"                                                     \n [38] \"Mortalidad infantil\"                                                   \n [39] \"Cobertura de vacunación\"                                               \n [40] \"Embarazos adolescentes\"                                                \n [41] \"Impactos en salud por sobrepeso y obesidad\"                            \n [42] \"Prevalencia de diabetes\"                                               \n [43] \"Suicidios\"                                                             \n [44] \"Médicos y médicas\"                                                     \n [45] \"Gasto en salud per cápita\"                                             \n [46] \"Gasto en salud por cuenta propia\"                                      \n [47] \"Estabilidad política y ausencia de violencia\"                          \n [48] \"Interferencia militar en el Estado de derecho o en el proceso político\"\n [49] \"Derechos políticos\"                                                    \n [50] \"Libertades civiles\"                                                    \n [51] \"Libertad de prensa\"                                                    \n [52] \"Índice de Percepción de Corrupción\"                                    \n [53] \"Disponibilidad de información pública\"                                 \n [54] \"Participación electoral\"                                               \n [55] \"Índice de efectividad del gobierno\"                                    \n [56] \"Miembro de la Alianza para el Gobierno Abierto\"                        \n [57] \"Índice de desarrollo de Gobierno Electrónico\"                          \n [58] \"Economía informal\"                                                     \n [59] \"Facilidad para abrir una empresa\"                                      \n [60] \"Tiempo de altos ejecutivos a temas burocráticos\"                       \n [61] \"Tiempo para preparar y pagar impuestos\"                                \n [62] \"Presupuesto balanceado\"                                                \n [63] \"Deuda total del gobierno central\"                                      \n [64] \"Ingresos fiscales\"                                                     \n [65] \"Impuesto sobre el ingreso\"                                             \n [66] \"Carga impositiva\"                                                      \n [67] \"Edad efectiva de retiro\"                                               \n [68] \"Flexibilidad de las leyes laborales\"                                   \n [69] \"Productividad media del trabajo\"                                       \n [70] \"Valor agregado de la industria\"                                        \n [71] \"Valor agregado de la agricultura\"                                      \n [72] \"Eficiencia energética\"                                                 \n [73] \"Cambio en inventarios\"                                                 \n [74] \"Índice de transparencia y regulación de la propiedad privada\"          \n [75] \"Crecimiento del PIB\"                                                   \n [76] \"Crecimiento promedio del PIB\"                                          \n [77] \"Variabilidad del crecimiento del PIB\"                                  \n [78] \"Inflación\"                                                             \n [79] \"Inflación promedio\"                                                    \n [80] \"Variabilidad de la inflación\"                                          \n [81] \"Desempleo\"                                                             \n [82] \"Deuda externa\"                                                         \n [83] \"Calificación de deuda\"                                                 \n [84] \"Activos del sector financiero\"                                         \n [85] \"Activos de los depositantes\"                                           \n [86] \"Reservas\"                                                              \n [87] \"Índice de riesgos de seguridad energética\"                             \n [88] \"Pérdidas de electricidad\"                                              \n [89] \"Líneas móviles\"                                                        \n [90] \"Usuarios de internet\"                                                  \n [91] \"Servidores de internet seguros\"                                        \n [92] \"Transporte intraurbano de alta capacidad\"                              \n [93] \"Índice calidad de carreteras\"                                          \n [94] \"Flujo de pasajeros aéreos\"                                             \n [95] \"Índice de desempeño logístico (transporte)\"                            \n [96] \"Índice de infraestructura portuaria\"                                   \n [97] \"Tráfico portuario de contenedores\"                                     \n [98] \"Penetración del sistema financiero privado\"                            \n [99] \"Capitalización del mercado de valores\"                                 \n[100] \"Cambio en empresas listadas\"                                           \n[101] \"Rotación de activos bursátiles\"                                        \n[102] \"Índice de competencia de Boone\"                                        \n[103] \"Organizaciones internacionales a las que pertenece\"                    \n[104] \"Acuerdos comerciales\"                                                  \n[105] \"Socios comerciales efectivos\"                                          \n[106] \"Apertura comercial\"                                                    \n[107] \"Diversificación de las exportaciones\"                                  \n[108] \"Diversificación de las importaciones\"                                  \n[109] \"Barreras ocultas a la importación\"                                     \n[110] \"Aranceles agrícolas\"                                                   \n[111] \"Aranceles manufactureros\"                                              \n[112] \"Inversión extranjera directa (neta)\"                                   \n[113] \"Inversión Extranjera Directa neta promedio\"                            \n[114] \"Variabilidad de la IED\"                                                \n[115] \"Ingresos por turismo\"                                                  \n[116] \"Flujo de pasajeros aéreos internacionales\"                             \n[117] \"Gasto militar\"                                                         \n[118] \"Gasto en investigación y desarrollo\"                                   \n[119] \"Coeficiente de invención\"                                              \n[120] \"Artículos científicos y técnicos\"                                      \n[121] \"Exportaciones de alta tecnología\"                                      \n[122] \"Índice de Complejidad Económica\"                                       \n[123] \"Crecimiento de la productividad total de los factores\"                 \n[124] \"Empresas en Fortune 500\"                                               \n[125] \"Empresas ISO 9001\"                                                     \n[126] \"Población en grandes ciudades\"                                         \n[127] \"PIB en servicios\"                                                      \n[128] \"...128\"                                                                \n[129] \"...129\"                                                                \n[130] \"Inversión (Formación bruta de capital fijo)\"                           \n[131] \"Talento\"                                                               \n[132] \"...132\"                                                                \n[133] \"Población total\"                                                       \n[134] \"Densidad de población\"                                                 \n[135] \"PIB (Paridad de Poder Adquisitivo)...135\"                              \n[136] \"PIB (Paridad de Poder Adquisitivo)...136\"                              \n[137] \"PIB per cápita (Paridad de Poder Adquisitivo)...137\"                   \n[138] \"PIB per cápita (Paridad de Poder Adquisitivo)...138\"                   \n[139] \"PIB per cápita...139\"                                                  \n[140] \"PIB per cápita...140\"                                                  \n[141] \"PIB...141\"                                                             \n[142] \"PIB...142\"                                                             \n\n\nComo vemos en las bases hay mayúsculas, caracteres especiales y demás. Esto lo podemos cambiar\n\nejemploxl<-ejemploxl %>% \n  janitor::clean_names()\n\nnames(ejemploxl)\n\n  [1] \"indicador\"                                                             \n  [2] \"proteccion_de_derechos_humanos\"                                        \n  [3] \"homicidios_dolosos\"                                                    \n  [4] \"costos_de_la_delincuencia_en_los_negocios\"                             \n  [5] \"confianza_en_la_policia\"                                               \n  [6] \"imparcialidad_de_las_cortes\"                                           \n  [7] \"independencia_del_poder_judicial\"                                      \n  [8] \"proteccion_de_derechos_de_propiedad\"                                   \n  [9] \"pirateria_informatica\"                                                 \n [10] \"proteccion_a_acreedores\"                                               \n [11] \"tiempo_para_resolver_quiebras\"                                         \n [12] \"cumplimiento_de_contratos\"                                             \n [13] \"indice_de_estados_fragiles\"                                            \n [14] \"indice_de_estado_de_derecho\"                                           \n [15] \"contaminacion_del_aire\"                                                \n [16] \"emisiones_de_co2\"                                                      \n [17] \"recursos_hidricos_renovables\"                                          \n [18] \"estres_hidrico\"                                                        \n [19] \"areas_naturales_protegidas\"                                            \n [20] \"superficie_forestal_perdida\"                                           \n [21] \"uso_de_fertilizantes_en_la_agricultura\"                                \n [22] \"uso_de_pesticidas\"                                                     \n [23] \"fuentes_de_energia_no_contaminantes\"                                   \n [24] \"empresas_certificadas_como_limpias\"                                    \n [25] \"indice_de_vulnerabilidad_a_efectos_del_cambio_climatico\"               \n [26] \"indice_de_gini\"                                                        \n [27] \"indice_global_de_brecha_de_genero\"                                     \n [28] \"mujeres_en_la_pea\"                                                     \n [29] \"dependientes_de_la_pea\"                                                \n [30] \"acceso_a_agua\"                                                         \n [31] \"acceso_a_alcantarillado\"                                               \n [32] \"analfabetismo\"                                                         \n [33] \"cobertura_en_nivel_preescolar\"                                         \n [34] \"escolaridad_promedio\"                                                  \n [35] \"calidad_educativa\"                                                     \n [36] \"nivel_de_ingles\"                                                       \n [37] \"esperanza_de_vida\"                                                     \n [38] \"mortalidad_infantil\"                                                   \n [39] \"cobertura_de_vacunacion\"                                               \n [40] \"embarazos_adolescentes\"                                                \n [41] \"impactos_en_salud_por_sobrepeso_y_obesidad\"                            \n [42] \"prevalencia_de_diabetes\"                                               \n [43] \"suicidios\"                                                             \n [44] \"medicos_y_medicas\"                                                     \n [45] \"gasto_en_salud_per_capita\"                                             \n [46] \"gasto_en_salud_por_cuenta_propia\"                                      \n [47] \"estabilidad_politica_y_ausencia_de_violencia\"                          \n [48] \"interferencia_militar_en_el_estado_de_derecho_o_en_el_proceso_politico\"\n [49] \"derechos_politicos\"                                                    \n [50] \"libertades_civiles\"                                                    \n [51] \"libertad_de_prensa\"                                                    \n [52] \"indice_de_percepcion_de_corrupcion\"                                    \n [53] \"disponibilidad_de_informacion_publica\"                                 \n [54] \"participacion_electoral\"                                               \n [55] \"indice_de_efectividad_del_gobierno\"                                    \n [56] \"miembro_de_la_alianza_para_el_gobierno_abierto\"                        \n [57] \"indice_de_desarrollo_de_gobierno_electronico\"                          \n [58] \"economia_informal\"                                                     \n [59] \"facilidad_para_abrir_una_empresa\"                                      \n [60] \"tiempo_de_altos_ejecutivos_a_temas_burocraticos\"                       \n [61] \"tiempo_para_preparar_y_pagar_impuestos\"                                \n [62] \"presupuesto_balanceado\"                                                \n [63] \"deuda_total_del_gobierno_central\"                                      \n [64] \"ingresos_fiscales\"                                                     \n [65] \"impuesto_sobre_el_ingreso\"                                             \n [66] \"carga_impositiva\"                                                      \n [67] \"edad_efectiva_de_retiro\"                                               \n [68] \"flexibilidad_de_las_leyes_laborales\"                                   \n [69] \"productividad_media_del_trabajo\"                                       \n [70] \"valor_agregado_de_la_industria\"                                        \n [71] \"valor_agregado_de_la_agricultura\"                                      \n [72] \"eficiencia_energetica\"                                                 \n [73] \"cambio_en_inventarios\"                                                 \n [74] \"indice_de_transparencia_y_regulacion_de_la_propiedad_privada\"          \n [75] \"crecimiento_del_pib\"                                                   \n [76] \"crecimiento_promedio_del_pib\"                                          \n [77] \"variabilidad_del_crecimiento_del_pib\"                                  \n [78] \"inflacion\"                                                             \n [79] \"inflacion_promedio\"                                                    \n [80] \"variabilidad_de_la_inflacion\"                                          \n [81] \"desempleo\"                                                             \n [82] \"deuda_externa\"                                                         \n [83] \"calificacion_de_deuda\"                                                 \n [84] \"activos_del_sector_financiero\"                                         \n [85] \"activos_de_los_depositantes\"                                           \n [86] \"reservas\"                                                              \n [87] \"indice_de_riesgos_de_seguridad_energetica\"                             \n [88] \"perdidas_de_electricidad\"                                              \n [89] \"lineas_moviles\"                                                        \n [90] \"usuarios_de_internet\"                                                  \n [91] \"servidores_de_internet_seguros\"                                        \n [92] \"transporte_intraurbano_de_alta_capacidad\"                              \n [93] \"indice_calidad_de_carreteras\"                                          \n [94] \"flujo_de_pasajeros_aereos\"                                             \n [95] \"indice_de_desempeno_logistico_transporte\"                              \n [96] \"indice_de_infraestructura_portuaria\"                                   \n [97] \"trafico_portuario_de_contenedores\"                                     \n [98] \"penetracion_del_sistema_financiero_privado\"                            \n [99] \"capitalizacion_del_mercado_de_valores\"                                 \n[100] \"cambio_en_empresas_listadas\"                                           \n[101] \"rotacion_de_activos_bursatiles\"                                        \n[102] \"indice_de_competencia_de_boone\"                                        \n[103] \"organizaciones_internacionales_a_las_que_pertenece\"                    \n[104] \"acuerdos_comerciales\"                                                  \n[105] \"socios_comerciales_efectivos\"                                          \n[106] \"apertura_comercial\"                                                    \n[107] \"diversificacion_de_las_exportaciones\"                                  \n[108] \"diversificacion_de_las_importaciones\"                                  \n[109] \"barreras_ocultas_a_la_importacion\"                                     \n[110] \"aranceles_agricolas\"                                                   \n[111] \"aranceles_manufactureros\"                                              \n[112] \"inversion_extranjera_directa_neta\"                                     \n[113] \"inversion_extranjera_directa_neta_promedio\"                            \n[114] \"variabilidad_de_la_ied\"                                                \n[115] \"ingresos_por_turismo\"                                                  \n[116] \"flujo_de_pasajeros_aereos_internacionales\"                             \n[117] \"gasto_militar\"                                                         \n[118] \"gasto_en_investigacion_y_desarrollo\"                                   \n[119] \"coeficiente_de_invencion\"                                              \n[120] \"articulos_cientificos_y_tecnicos\"                                      \n[121] \"exportaciones_de_alta_tecnologia\"                                      \n[122] \"indice_de_complejidad_economica\"                                       \n[123] \"crecimiento_de_la_productividad_total_de_los_factores\"                 \n[124] \"empresas_en_fortune_500\"                                               \n[125] \"empresas_iso_9001\"                                                     \n[126] \"poblacion_en_grandes_ciudades\"                                         \n[127] \"pib_en_servicios\"                                                      \n[128] \"x128\"                                                                  \n[129] \"x129\"                                                                  \n[130] \"inversion_formacion_bruta_de_capital_fijo\"                             \n[131] \"talento\"                                                               \n[132] \"x132\"                                                                  \n[133] \"poblacion_total\"                                                       \n[134] \"densidad_de_poblacion\"                                                 \n[135] \"pib_paridad_de_poder_adquisitivo_135\"                                  \n[136] \"pib_paridad_de_poder_adquisitivo_136\"                                  \n[137] \"pib_per_capita_paridad_de_poder_adquisitivo_137\"                       \n[138] \"pib_per_capita_paridad_de_poder_adquisitivo_138\"                       \n[139] \"pib_per_capita_139\"                                                    \n[140] \"pib_per_capita_140\"                                                    \n[141] \"pib_141\"                                                               \n[142] \"pib_142\"                                                               \n\n\nSi quisiéramos que la acción quedará en una sola operación, podemos usar un pipe diferente:\n\nconcentradohogar %<>% \n  clean_names()\n\nnames(concentradohogar)\n\n  [1] \"folioviv\"   \"foliohog\"   \"ubica_geo\"  \"tam_loc\"    \"est_socio\" \n  [6] \"est_dis\"    \"upm\"        \"factor\"     \"clase_hog\"  \"sexo_jefe\" \n [11] \"edad_jefe\"  \"educa_jefe\" \"tot_integ\"  \"hombres\"    \"mujeres\"   \n [16] \"mayores\"    \"menores\"    \"p12_64\"     \"p65mas\"     \"ocupados\"  \n [21] \"percep_ing\" \"perc_ocupa\" \"ing_cor\"    \"ingtrab\"    \"trabajo\"   \n [26] \"sueldos\"    \"horas_extr\" \"comisiones\" \"aguinaldo\"  \"indemtrab\" \n [31] \"otra_rem\"   \"remu_espec\" \"negocio\"    \"noagrop\"    \"industria\" \n [36] \"comercio\"   \"servicios\"  \"agrope\"     \"agricolas\"  \"pecuarios\" \n [41] \"reproducc\"  \"pesca\"      \"otros_trab\" \"rentas\"     \"utilidad\"  \n [46] \"arrenda\"    \"transfer\"   \"jubilacion\" \"becas\"      \"donativos\" \n [51] \"remesas\"    \"bene_gob\"   \"transf_hog\" \"trans_inst\" \"estim_alqu\"\n [56] \"otros_ing\"  \"gasto_mon\"  \"alimentos\"  \"ali_dentro\" \"cereales\"  \n [61] \"carnes\"     \"pescado\"    \"leche\"      \"huevo\"      \"aceites\"   \n [66] \"tuberculo\"  \"verduras\"   \"frutas\"     \"azucar\"     \"cafe\"      \n [71] \"especias\"   \"otros_alim\" \"bebidas\"    \"ali_fuera\"  \"tabaco\"    \n [76] \"vesti_calz\" \"vestido\"    \"calzado\"    \"vivienda\"   \"alquiler\"  \n [81] \"pred_cons\"  \"agua\"       \"energia\"    \"limpieza\"   \"cuidados\"  \n [86] \"utensilios\" \"enseres\"    \"salud\"      \"atenc_ambu\" \"hospital\"  \n [91] \"medicinas\"  \"transporte\" \"publico\"    \"foraneo\"    \"adqui_vehi\"\n [96] \"mantenim\"   \"refaccion\"  \"combus\"     \"comunica\"   \"educa_espa\"\n[101] \"educacion\"  \"esparci\"    \"paq_turist\" \"personales\" \"cuida_pers\"\n[106] \"acces_pers\" \"otros_gas\"  \"transf_gas\" \"percep_tot\" \"retiro_inv\"\n[111] \"prestamos\"  \"otras_perc\" \"ero_nm_viv\" \"ero_nm_hog\" \"erogac_tot\"\n[116] \"cuota_viv\"  \"mater_serv\" \"material\"   \"servicio\"   \"deposito\"  \n[121] \"prest_terc\" \"pago_tarje\" \"deudas\"     \"balance\"    \"otras_erog\"\n[126] \"smg\"       \n\n\n\n\n2.5.3 Ojeando\n\ndplyr::glimpse(concentradohogar)\n\nRows: 90,102\nColumns: 126\n$ folioviv   <chr> \"0100005002\", \"0100005003\", \"0100005004\", \"0100012002\", \"01…\n$ foliohog   <chr> \"1\", \"1\", \"1\", \"1\", \"2\", \"1\", \"1\", \"1\", \"1\", \"1\", \"1\", \"1\",…\n$ ubica_geo  <chr> \"01001\", \"01001\", \"01001\", \"01001\", \"01001\", \"01001\", \"0100…\n$ tam_loc    <chr> \"1\", \"1\", \"1\", \"1\", \"1\", \"1\", \"1\", \"1\", \"1\", \"1\", \"1\", \"1\",…\n$ est_socio  <chr> \"4\", \"4\", \"4\", \"3\", \"3\", \"3\", \"3\", \"4\", \"4\", \"4\", \"4\", \"3\",…\n$ est_dis    <chr> \"003\", \"003\", \"003\", \"002\", \"002\", \"002\", \"002\", \"003\", \"00…\n$ upm        <chr> \"0000001\", \"0000001\", \"0000001\", \"0000002\", \"0000002\", \"000…\n$ factor     <dbl> 206, 206, 206, 167, 167, 167, 167, 212, 212, 212, 212, 184,…\n$ clase_hog  <chr> \"3\", \"2\", \"2\", \"3\", \"1\", \"2\", \"2\", \"1\", \"2\", \"2\", \"2\", \"1\",…\n$ sexo_jefe  <chr> \"2\", \"1\", \"1\", \"1\", \"1\", \"1\", \"2\", \"2\", \"2\", \"1\", \"1\", \"1\",…\n$ edad_jefe  <dbl> 91, 68, 56, 87, 27, 57, 47, 75, 70, 69, 48, 73, 64, 55, 58,…\n$ educa_jefe <chr> \"03\", \"08\", \"10\", \"11\", \"08\", \"08\", \"10\", \"06\", \"10\", \"04\",…\n$ tot_integ  <dbl> 3, 2, 3, 4, 1, 4, 4, 1, 3, 2, 5, 1, 4, 3, 1, 6, 4, 2, 3, 1,…\n$ hombres    <dbl> 0, 1, 2, 2, 1, 2, 2, 0, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 3, 0,…\n$ mujeres    <dbl> 3, 1, 1, 2, 0, 2, 2, 1, 2, 1, 4, 0, 3, 2, 1, 5, 3, 1, 0, 1,…\n$ mayores    <dbl> 3, 2, 3, 4, 1, 3, 4, 1, 3, 2, 5, 1, 4, 2, 1, 4, 4, 2, 1, 1,…\n$ menores    <dbl> 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 2, 0, 0, 2, 0,…\n$ p12_64     <dbl> 2, 1, 3, 2, 1, 3, 4, 0, 2, 0, 5, 0, 4, 2, 1, 4, 3, 0, 1, 1,…\n$ p65mas     <dbl> 1, 1, 0, 2, 0, 0, 0, 1, 1, 2, 0, 1, 0, 0, 0, 0, 1, 2, 0, 0,…\n$ ocupados   <dbl> 1, 2, 2, 0, 1, 3, 1, 0, 3, 1, 1, 0, 1, 1, 0, 3, 1, 1, 1, 1,…\n$ percep_ing <dbl> 3, 2, 2, 2, 1, 4, 2, 1, 3, 2, 1, 1, 2, 2, 1, 3, 2, 2, 1, 1,…\n$ perc_ocupa <dbl> 1, 2, 2, 0, 1, 3, 1, 0, 3, 1, 1, 0, 1, 1, 0, 3, 1, 1, 1, 1,…\n$ ing_cor    <dbl> 56123.75, 108048.87, 133852.88, 105054.15, 24211.95, 121649…\n$ ingtrab    <dbl> 35706.51, 66766.28, 93081.50, 0.00, 22255.43, 40255.41, 333…\n$ trabajo    <dbl> 35706.51, 66766.28, 51603.24, 0.00, 17364.13, 40255.41, 327…\n$ sueldos    <dbl> 33749.99, 61630.42, 41086.95, 0.00, 17364.13, 36586.94, 246…\n$ horas_extr <dbl> 0.00, 0.00, 978.26, 0.00, 0.00, 0.00, 7092.39, 0.00, 0.00, …\n$ comisiones <dbl> 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00,…\n$ aguinaldo  <dbl> 1956.52, 4646.73, 5135.86, 0.00, 0.00, 3668.47, 1027.17, 0.…\n$ indemtrab  <dbl> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,…\n$ otra_rem   <dbl> 0.00, 489.13, 4402.17, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, …\n$ remu_espec <dbl> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,…\n$ negocio    <dbl> 0.00, 0.00, 41478.26, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0…\n$ noagrop    <dbl> 0.00, 0.00, 41478.26, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0…\n$ industria  <dbl> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,…\n$ comercio   <dbl> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,…\n$ servicios  <dbl> 0.00, 0.00, 41478.26, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0…\n$ agrope     <dbl> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,…\n$ agricolas  <dbl> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,…\n$ pecuarios  <dbl> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,…\n$ reproducc  <dbl> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,…\n$ pesca      <dbl> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,…\n$ otros_trab <dbl> 0.00, 0.00, 0.00, 0.00, 4891.30, 0.00, 586.95, 0.00, 0.00, …\n$ rentas     <dbl> 0.00, 32282.60, 11739.13, 0.00, 0.00, 72684.78, 0.00, 0.00,…\n$ utilidad   <dbl> 0.00, 0.00, 0.00, 0.00, 0.00, 72684.78, 0.00, 0.00, 16007.2…\n$ arrenda    <dbl> 0.00, 32282.60, 11739.13, 0.00, 0.00, 0.00, 0.00, 0.00, 0.0…\n$ transfer   <dbl> 8804.34, 8999.99, 0.00, 90538.03, 1956.52, 0.00, 26902.17, …\n$ jubilacion <dbl> 0.00, 0.00, 0.00, 79239.13, 0.00, 0.00, 0.00, 73369.56, 440…\n$ becas      <dbl> 391.3, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.…\n$ donativos  <dbl> 0.00, 0.00, 0.00, 0.00, 1956.52, 0.00, 26902.17, 0.00, 0.00…\n$ remesas    <dbl> 978.26, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.0…\n$ bene_gob   <dbl> 7434.78, 0.00, 0.00, 11298.90, 0.00, 0.00, 0.00, 5649.45, 0…\n$ transf_hog <dbl> 0.00, 8999.99, 0.00, 0.00, 0.00, 0.00, 0.00, 2442.84, 0.00,…\n$ trans_inst <dbl> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,…\n$ estim_alqu <dbl> 11612.90, 0.00, 29032.25, 14516.12, 0.00, 8709.67, 0.00, 14…\n$ otros_ing  <dbl> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,…\n$ gasto_mon  <dbl> 35091.17, 78670.73, 101647.27, 46702.31, 26927.85, 51176.07…\n$ alimentos  <dbl> 9514.19, 17524.25, 18321.36, 14759.90, 12458.47, 6351.40, 1…\n$ ali_dentro <dbl> 6814.20, 5181.41, 16907.08, 6274.20, 7315.63, 951.42, 11828…\n$ cereales   <dbl> 1465.70, 231.42, 1362.84, 1928.53, 308.56, 617.14, 1915.67,…\n$ carnes     <dbl> 617.14, 4114.28, 5142.85, 1928.57, 2442.84, 0.00, 6685.69, …\n$ pescado    <dbl> 0.00, 0.00, 0.00, 0.00, 1799.99, 0.00, 1414.28, 0.00, 0.00,…\n$ leche      <dbl> 269.99, 578.57, 0.00, 1414.26, 0.00, 334.28, 0.00, 565.70, …\n$ huevo      <dbl> 0.00, 257.14, 1028.57, 0.00, 321.42, 0.00, 0.00, 0.00, 1002…\n$ aceites    <dbl> 0.00, 0.00, 565.71, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.0…\n$ tuberculo  <dbl> 0.00, 0.00, 0.00, 0.00, 1028.56, 0.00, 321.42, 621.38, 0.00…\n$ verduras   <dbl> 2288.53, 0.00, 1735.69, 1002.84, 642.85, 0.00, 951.41, 2069…\n$ frutas     <dbl> 1954.27, 0.00, 0.00, 0.00, 0.00, 0.00, 539.99, 1234.27, 195…\n$ azucar     <dbl> 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00,…\n$ cafe       <dbl> 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00,…\n$ especias   <dbl> 218.57, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.0…\n$ otros_alim <dbl> 0.00, 0.00, 5142.85, 0.00, 0.00, 0.00, 0.00, 3857.14, 1928.…\n$ bebidas    <dbl> 0.00, 0.00, 1928.57, 0.00, 771.41, 0.00, 0.00, 462.84, 2378…\n$ ali_fuera  <dbl> 2699.99, 12342.84, 1414.28, 8485.70, 5142.84, 5399.98, 5528…\n$ tabaco     <dbl> 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00,…\n$ vesti_calz <dbl> 2445.64, 684.78, 0.00, 1369.56, 0.00, 1751.06, 9782.60, 489…\n$ vestido    <dbl> 2445.64, 684.78, 0.00, 1369.56, 0.00, 1751.06, 5380.43, 489…\n$ calzado    <dbl> 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 4402.17, 0.00, 0.00, 0.…\n$ vivienda   <dbl> 1736.75, 29649.66, 3232.25, 2850.00, 2700.00, 3660.00, 1822…\n$ alquiler   <dbl> 0.00, 24677.41, 0.00, 0.00, 0.00, 0.00, 13935.48, 0.00, 0.0…\n$ pred_cons  <dbl> 116.75, 2032.25, 2032.25, 150.00, 0.00, 150.00, 0.00, 750.0…\n$ agua       <dbl> 780, 540, 750, 450, 450, 1200, 1410, 420, 840, 420, 900, 87…\n$ energia    <dbl> 840.00, 2400.00, 450.00, 2250.00, 2250.00, 2310.00, 2876.61…\n$ limpieza   <dbl> 2075.80, 2816.11, 1422.55, 1228.04, 890.36, 3518.67, 2386.3…\n$ cuidados   <dbl> 2075.80, 2816.11, 1422.55, 1228.04, 792.54, 3518.67, 2386.3…\n$ utensilios <dbl> 0.00, 0.00, 0.00, 0.00, 97.82, 0.00, 0.00, 0.00, 489.13, 23…\n$ enseres    <dbl> 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00,…\n$ salud      <dbl> 2641.29, 0.00, 0.00, 0.00, 0.00, 1007.60, 8902.16, 3277.16,…\n$ atenc_ambu <dbl> 2641.29, 0.00, 0.00, 0.00, 0.00, 1007.60, 7923.90, 3277.16,…\n$ hospital   <dbl> 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00,…\n$ medicinas  <dbl> 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 978.26, 0.00, 978.26, 0…\n$ transporte <dbl> 6773.62, 6706.44, 23312.90, 23574.19, 5080.63, 20601.28, 84…\n$ publico    <dbl> 2314.28, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 771.42, 1157.1…\n$ foraneo    <dbl> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,…\n$ adqui_vehi <dbl> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,…\n$ mantenim   <dbl> 2903.22, 4354.83, 11612.90, 20322.58, 4064.51, 17709.67, 53…\n$ refaccion  <dbl> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,…\n$ combus     <dbl> 2903.22, 4354.83, 11612.90, 20322.58, 4064.51, 17709.67, 53…\n$ comunica   <dbl> 1556.12, 2351.61, 11700.00, 3251.61, 1016.12, 2891.61, 3033…\n$ educa_espa <dbl> 2903.22, 0.00, 34728.25, 0.00, 4209.66, 6967.74, 9058.05, 0…\n$ educacion  <dbl> 2903.22, 0.00, 0.00, 0.00, 0.00, 6967.74, 6735.47, 0.00, 0.…\n$ esparci    <dbl> 0.00, 0.00, 5380.43, 0.00, 4209.66, 0.00, 2322.58, 0.00, 0.…\n$ paq_turist <dbl> 0.00, 0.00, 29347.82, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0…\n$ personales <dbl> 4097.44, 3870.14, 13416.08, 2920.62, 1344.17, 812.90, 4918.…\n$ cuida_pers <dbl> 673.53, 3745.14, 1916.09, 2920.62, 1344.17, 812.90, 4708.95…\n$ acces_pers <dbl> 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00,…\n$ otros_gas  <dbl> 3423.91, 125.00, 11499.99, 0.00, 0.00, 0.00, 210.00, 0.00, …\n$ transf_gas <dbl> 2903.22, 17419.35, 7213.88, 0.00, 244.56, 6505.42, 73.36, 4…\n$ percep_tot <dbl> 0.00, 0.00, 0.00, 0.00, 3214.27, 0.00, 0.00, 0.00, 0.00, 0.…\n$ retiro_inv <dbl> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,…\n$ prestamos  <dbl> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,…\n$ otras_perc <dbl> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,…\n$ ero_nm_viv <dbl> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,…\n$ ero_nm_hog <dbl> 0.00, 0.00, 0.00, 0.00, 3214.27, 0.00, 0.00, 0.00, 0.00, 0.…\n$ erogac_tot <dbl> 0.00, 19565.21, 0.00, 28124.99, 0.00, 5771.73, 360.97, 2445…\n$ cuota_viv  <dbl> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,…\n$ mater_serv <dbl> 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00,…\n$ material   <dbl> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,…\n$ servicio   <dbl> 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00,…\n$ deposito   <dbl> 0.00, 19565.21, 0.00, 28124.99, 0.00, 5771.73, 0.00, 2445.6…\n$ prest_terc <dbl> 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00,…\n$ pago_tarje <dbl> 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00,…\n$ deudas     <dbl> 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00,…\n$ balance    <dbl> 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00,…\n$ otras_erog <dbl> 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 360.97, 0.00, 0.00, 0.0…\n$ smg        <dbl> 15558.3, 15558.3, 15558.3, 15558.3, 15558.3, 15558.3, 15558…\n\ndplyr::glimpse(concentradohogar[,1:10]) # en corchete del lado derecho podemos ojear columnas \n\nRows: 90,102\nColumns: 10\n$ folioviv  <chr> \"0100005002\", \"0100005003\", \"0100005004\", \"0100012002\", \"010…\n$ foliohog  <chr> \"1\", \"1\", \"1\", \"1\", \"2\", \"1\", \"1\", \"1\", \"1\", \"1\", \"1\", \"1\", …\n$ ubica_geo <chr> \"01001\", \"01001\", \"01001\", \"01001\", \"01001\", \"01001\", \"01001…\n$ tam_loc   <chr> \"1\", \"1\", \"1\", \"1\", \"1\", \"1\", \"1\", \"1\", \"1\", \"1\", \"1\", \"1\", …\n$ est_socio <chr> \"4\", \"4\", \"4\", \"3\", \"3\", \"3\", \"3\", \"4\", \"4\", \"4\", \"4\", \"3\", …\n$ est_dis   <chr> \"003\", \"003\", \"003\", \"002\", \"002\", \"002\", \"002\", \"003\", \"003…\n$ upm       <chr> \"0000001\", \"0000001\", \"0000001\", \"0000002\", \"0000002\", \"0000…\n$ factor    <dbl> 206, 206, 206, 167, 167, 167, 167, 212, 212, 212, 212, 184, …\n$ clase_hog <chr> \"3\", \"2\", \"2\", \"3\", \"1\", \"2\", \"2\", \"1\", \"2\", \"2\", \"2\", \"1\", …\n$ sexo_jefe <chr> \"2\", \"1\", \"1\", \"1\", \"1\", \"1\", \"2\", \"2\", \"2\", \"1\", \"1\", \"1\", …\n\n\n\n\n2.5.4 Selección de casos y de variables\nPoco a poco vamos comprendiendo más la lógica de R. Hay varias “formas” de programar. Por lo que no te asustes si varios códigos llegan al mismo resultado\nPara revisar el contenido de un data frame podemos usar, como lo hicimos anteriormente, el formato basededatos$var o usar corchete, checa como estas cuatro formas tan el mismo resultado.\n\nx<-concentradohogar$ing_cor\nx<-concentradohogar[[\"ing_cor\"]]  # ¡Ojo con las comillas! \nx<-concentradohogar[,23]\nx<-concentradohogar[,\"ing_cor\"]\n\nAhora, con el formato de dplyr podemos llegar a lo mismo\n\nx<-concentradohogar %>% \n  dplyr::select(ing_cor)"
  },
  {
    "objectID": "P2.html#subsetting",
    "href": "P2.html#subsetting",
    "title": "2  Manejo de datos: importación, selección y revisión",
    "section": "2.6 “Subsetting”",
    "text": "2.6 “Subsetting”\nSelección “inversa” O sea no “botar algo”, es con el negativo. No funciona con todos los formatos\n\nx<-concentradohogar %>% \n  select(-ing_cor)\n\nrm(x) #rm sólo bota objetos\n\nPero con los otros formatos podemos “asignar” valores adentro de un data.frame, y uno de eso valores puede ser “la nada””\n\nconcentradohogar$ing_cor2<-concentradohogar$ing_cor\nconcentradohogar$ing_cor2<-NULL\n\nconcentradohogar %<>% \n  dplyr::mutate(ing_cor2=ing_cor) # crea o cambia variables\n\nconcentradohogar %<>% \n  dplyr::mutate(ing_cor2=NULL) # crea o cambia variables\n\nDe aquí viene esa cuesta en el aprendizaje; tenemos que comprender en qué forma programó el que hizo el paquete e incluso a veces cómo aprendió quién te está enseñando o el foro que estás leyendo.\nRara vez utilizamos una base de datos completa, y rara vez queremos hacer operaciones completas con ellas.\nVamos a pedir cosas más específicas y podemos seleccionar observaciones o filas. Como nuestra base de datos es muy grande, guardaremos el filtro o selección en un objeto.\n\nsubset1<-concentradohogar[concentradohogar$ing_cor>4,]\n\nTambién podemos seleccionar columnas\n\nsubset2<- concentradohogar[, c(\"sexo_jefe\", \"edad_jefe\", \"ing_cor\")]\n\npodemos combinar los dos tipos de selección\n\nsubset3<- concentradohogar[(concentradohogar$ing_cor>2000 & concentradohogar$sexo_jefe==1 ), c(\"sexo_jefe\", \"edad_jefe\", \"ing_cor\")]\n\nCon {dplyr}, podemos usar dplyr::filter() y dplyr::select\n\nsubset4<-concentradohogar %>% \n  dplyr::filter(ing_cor>2000 & sexo_jefe==1) %>%\n  dplyr::select(sexo_jefe, edad_jefe, ing_cor)"
  },
  {
    "objectID": "P2.html#etiquetas-y-cómo-usarlas",
    "href": "P2.html#etiquetas-y-cómo-usarlas",
    "title": "2  Manejo de datos: importación, selección y revisión",
    "section": "2.7 Etiquetas y cómo usarlas",
    "text": "2.7 Etiquetas y cómo usarlas\nPodemos ver que los objetos data.frame\n\nclass(concentradohogar$sexo_jefe)\n\n[1] \"character\"\n\n\n¿Cómo etiquetamos?\n\nCreamos un vector de la etiqueta\nConvertimos la variable a numérica\nUsamos dplyr::mutate() y sjlabelled:set_labels()\n\n\netiqueta_sex<-c(\"Hombre\", \"Mujer\")\n\nconcentradohogar<-concentradohogar %>% \n  mutate(sexo_jefe=as_numeric(sexo_jefe)) %>% # para quitar el \"string\"\n  sjlabelled::set_labels(sexo_jefe, labels=etiqueta_sex) \n\nVeamos hoy nuestra variable\n\nclass(concentradohogar$sexo_jefe)\n\n[1] \"numeric\"\n\nclass(sjlabelled::as_label(concentradohogar$sexo_jefe))\n\n[1] \"factor\"\n\n\n\nconcentradohogar %>% \n  mutate(sexo_jefe=sjlabelled::as_label(sexo_jefe)) %>% \n  tabyl(sexo_jefe)\n\n sexo_jefe     n   percent\n    Hombre 61905 0.6870547\n     Mujer 28197 0.3129453"
  },
  {
    "objectID": "P2.html#ejercicio",
    "href": "P2.html#ejercicio",
    "title": "2  Manejo de datos: importación, selección y revisión",
    "section": "2.8 Ejercicio",
    "text": "2.8 Ejercicio\n\nEscoja una base con la que usted esté trabajando. Impórtela\nReplique la exploración de la práctica: incluya limpiar nombre, alguna revisión global y, opcionalmente, alguna selección de variables o casos de acuerdo a su interés\nUtilice al menos un comando con {dplyr} para revisar algo\nAdjunte un archivo con información de la base (para que yo verifique su importación.), así como el código en .R\n\nEnvíe al siguiente formulario"
  },
  {
    "objectID": "P3.html#análisis-descriptivo",
    "href": "P3.html#análisis-descriptivo",
    "title": "3  Revisión de elementos estadísticos básicos",
    "section": "3.1 Análisis descriptivo",
    "text": "3.1 Análisis descriptivo\nVamos a llamar algunas paquetes que nos ayudarán en esta práctica\n\nif (!require(\"pacman\")) install.packages(\"pacman\") # instala pacman si se requiere\n\nCargando paquete requerido: pacman\n\npacman::p_load(tidyverse,\n               writexl, \n               haven,\n               sjlabelled, \n               janitor,\n               magrittr,\n               GGally,\n               wesanderson,\n               gt,\n               pollster,\n               dineq\n)"
  },
  {
    "objectID": "P3.html#datos",
    "href": "P3.html#datos",
    "title": "3  Revisión de elementos estadísticos básicos",
    "section": "3.2 Datos",
    "text": "3.2 Datos\nE importamos la base\n\nconcentradohogar <- haven::read_sav(\"datos/concentradohogar.sav\") \n\n\n3.2.1 Variables nominales\nLa variable nominal “sexo_jefe”, se captura con “1” para hombres y con un “2” para mujeres en la base de datos. Podemos establecer una operación de igual y además sumar los casos que cumplan con esta condición:\n\nconcentradohogar %>% \n  dplyr::count(sexo_jefe==\"2\") # cuentan los casos que cumplen con la condición \"sexo_jefe==2\"\n\n# A tibble: 2 × 2\n  `sexo_jefe == \"2\"`     n\n  <lgl>              <int>\n1 FALSE              61905\n2 TRUE               28197\n\n\nEsto es a lo que nos referimos con contar frecuencias. Podemos contar casos que cumplan con una operación de igualdad.\n\nconcentradohogar %>%\n  with(\n    table(sexo_jefe)\n    )\n\nsexo_jefe\n    1     2 \n61905 28197 \n\n\n\n\n3.2.2 Recordemos nuestro etiquetado\n\netiqueta_sex<-c(\"Hombre\", \"Mujer\")\n\nconcentradohogar<-concentradohogar %>% \n  mutate(sexo_jefe=as_numeric(sexo_jefe)) %>% # para quitar el \"string\"\n  sjlabelled::set_labels(sexo_jefe, labels=etiqueta_sex) \n\n\nconcentradohogar<-concentradohogar %>% \n  mutate(clase_hog=as_numeric(clase_hog)) %>% # para quitar el \"string\"\n  sjlabelled::set_labels(clase_hog, labels=c(\"unipersonal\",\n                                             \"nuclear\", \n                                             \"ampliado\",\n                                             \"compuesto\",\n                                             \"corresidente\")) \n\nCon “tabyl()”” de “janitor””\n\nconcentradohogar %>%\n  dplyr::mutate(sexo_jefe=as_label(sexo_jefe))  %>%\n  janitor::tabyl(sexo_jefe)\n\n sexo_jefe     n   percent\n    Hombre 61905 0.6870547\n     Mujer 28197 0.3129453\n\n\nPara ver que esto es una distribución de frecuencias sería muy útil ver la proporción total, ello se realiza agregando un elemento más en nuestro código con una “tubería”:\n\nconcentradohogar %>% \n  dplyr::mutate(sexo_jefe=as_label(sexo_jefe))  %>%\n  janitor::tabyl(sexo_jefe) %>% \n  janitor::adorn_totals()\n\n sexo_jefe     n   percent\n    Hombre 61905 0.6870547\n     Mujer 28197 0.3129453\n     Total 90102 1.0000000\n\n\nHoy revisamos algunos tipos de variables\n\nclass(concentradohogar$sexo_jefe) # variable sin etiqueta\n\n[1] \"numeric\"\n\nclass(as_label(concentradohogar$sexo_jefe)) # variable con etiqueta\n\n[1] \"factor\"\n\nclass(as_label(concentradohogar$educa_jefe)) # variable ordinal\n\n[1] \"factor\"\n\nclass(concentradohogar$ing_cor) # variable de intervalo/razón\n\n[1] \"numeric\"\n\n\nEn general, tendremos variables de factor que podrían ser consideradas como cualitativas y numéricas. Aunque en realidad, R tiene muchas formas de almacenamiento. Como mostramos con el comando “glimpse()” en la práctica anterior, podemos revisar una variable en específico:\n\ndplyr::glimpse(concentradohogar$sexo_jefe)\n\n num [1:90102] 2 1 1 1 1 1 2 2 2 1 ...\n - attr(*, \"labels\")= Named num [1:2] 1 2\n  ..- attr(*, \"names\")= chr [1:2] \"Hombre\" \"Mujer\"\n - attr(*, \"label\")= chr \"Sexo del jefe del hogar\"\n\n\n\nconcentradohogar %>% mutate(sexo_jefe=as_label(sexo_jefe)) %>% # cambia los valores de la variable a sus etiquetas\n                tabyl(sexo_jefe) %>% # para hacer la tabla\n                adorn_totals() %>% # añade totales\n                adorn_pct_formatting()  # nos da porcentaje en lugar de proporción\n\n sexo_jefe     n percent\n    Hombre 61905   68.7%\n     Mujer 28197   31.3%\n     Total 90102  100.0%\n\n\nLa tubería o “pipe” %>% nos permite ir agregando elementos de manera sencilla nuestros comandos. En este caso decimos que dentro del objeto haga el cambio, luego la tabla, que le ponga porcentajes y finalmente que nos dé los totales.\n\n\n3.2.3 Variables ordinales\nSon variables que dan cuenta de cualidades o condiciones a través de categorías que guardan un orden entre sí.\nVamos a darle una “ojeada” a esta variable\n\nglimpse(concentradohogar$educa_jefe)\n\n chr+lbl [1:90102] 03, 08, 10, 11, 08, 08, 10, 06, 10, 04, 06, 08, 10, 11, ...\n @ label        : chr \"Educación formal del jefe del hogar\"\n @ format.spss  : chr \"A2\"\n @ display_width: int 6\n @ labels       : Named chr [1:11] \"10\" \"01\" \"11\" \"02\" ...\n  ..- attr(*, \"names\")= chr [1:11] \"Profesional completa\" \"Sin instrucción\" \"Posgrado\" \"Preescolar\" ...\n\n\nEtiquetemos también nuestra variable ordinal\n\nconcentradohogar <-concentradohogar %>% \n  mutate(educa_jefe=as_numeric(educa_jefe)) %>% \n  set_labels(educa_jefe,\n             labels=c(\"Sin instrucción\", \n                      \"Preescolar\",\n                      \"Primaria incompleta\",\n                      \"Primaria completa\",\n                      \"Secundaria incompleta\",\n                      \"Secundaria completa\",\n                      \"Preparatoria incompleta\",\n                      \"Preparatoria completa\",\n                      \"Profesional incompleta\",\n                      \"Profesional completa\",\n                      \"Posgrado\"))\n\nHoy hacemos la tabla, con las etiquetas y vemos que se ve más bonita:\n\nconcentradohogar %>%\n  mutate(educa_jefe=as_label(educa_jefe)) %>% \n  tabyl(educa_jefe)\n\n              educa_jefe     n     percent\n         Sin instrucción  5495 0.060986438\n              Preescolar    32 0.000355153\n     Primaria incompleta 13328 0.147921245\n       Primaria completa 14928 0.165678897\n   Secundaria incompleta  2728 0.030276797\n     Secundaria completa 24581 0.272813034\n Preparatoria incompleta  3032 0.033650751\n   Preparatoria completa 11782 0.130762913\n  Profesional incompleta  2645 0.029355619\n    Profesional completa  9788 0.108632439\n                Posgrado  1763 0.019566713\n\n\nPara que no nos salgan las categorías sin datos podemos apagar la opción show_missing_levels=F dentro del comando “tabyl()”\n\nconcentradohogar %>% \n  mutate(educa_jefe=as_label(educa_jefe)) %>% \n  tabyl(educa_jefe, show_missing_levels=F ) %>% # esta opción elimina los valores con 0\n  adorn_totals()  \n\n              educa_jefe     n     percent\n         Sin instrucción  5495 0.060986438\n              Preescolar    32 0.000355153\n     Primaria incompleta 13328 0.147921245\n       Primaria completa 14928 0.165678897\n   Secundaria incompleta  2728 0.030276797\n     Secundaria completa 24581 0.272813034\n Preparatoria incompleta  3032 0.033650751\n   Preparatoria completa 11782 0.130762913\n  Profesional incompleta  2645 0.029355619\n    Profesional completa  9788 0.108632439\n                Posgrado  1763 0.019566713\n                   Total 90102 1.000000000\n\n\n\n\n3.2.4 Bivariado cualitativo\n\n3.2.4.1 Cálculo de frecuencias\nLas tablas de doble entrada tiene su nombre porque en las columnas entran los valores de una variable categórica, y en las filas de una segunda. Básicamente es como hacer un conteo de todas las combinaciones posibles entre los valores de una variable con la otra.\nPor ejemplo, si quisiéramos combinar las dos variables que ya estudiamos lo podemos hacer, con una tabla de doble entrada:\n\nconcentradohogar %>% \n  mutate(clase_hog=as_label(clase_hog)) %>% \n  mutate(sexo_jefe=as_label(sexo_jefe)) %>% # para que las lea como factor\n                tabyl(clase_hog, sexo_jefe, show_missing_levels=F ) %>% # incluimos aquí \n                adorn_totals()  \n\n    clase_hog Hombre Mujer\n  unipersonal   6519  5367\n      nuclear  41919 13621\n     ampliado  12898  8888\n    compuesto    372   211\n corresidente    197   110\n        Total  61905 28197\n\n\nObservamos que en cada celda confluyen los casos que comparten las mismas características:\n\nconcentradohogar %>%   \n    count(clase_hog==1 & sexo_jefe==1) # nos da la segunda celda de la izquierda\n\n# A tibble: 2 × 2\n  `clase_hog == 1 & sexo_jefe == 1`     n\n  <lgl>                             <int>\n1 FALSE                             83583\n2 TRUE                               6519\n\n\n\n\n3.2.4.2 Totales y porcentajes\nDe esta manera se colocan todos los datos. Si observa al poner la función “adorn_totals()” lo agregó como una nueva fila de totales, pero también podemos pedirle que agregue una columna de totales.\n\nconcentradohogar %>% \n  mutate(clase_hog=as_label(clase_hog)) %>% \n  mutate(sexo_jefe=as_label(sexo_jefe)) %>% # para que las lea como factor\n  tabyl(clase_hog, sexo_jefe, show_missing_levels=F ) %>% # incluimos aquí dos variables\n  adorn_totals(\"col\")  \n\n    clase_hog Hombre Mujer Total\n  unipersonal   6519  5367 11886\n      nuclear  41919 13621 55540\n     ampliado  12898  8888 21786\n    compuesto    372   211   583\n corresidente    197   110   307\n\n\nO bien agregar los dos, introduciendo en el argumento c(\"col\", \"row\") un vector de caracteres de las dos opciones requeridas:\n\nconcentradohogar %>% \n  mutate(clase_hog = as_label(clase_hog)) %>% \n  mutate(sexo_jefe = as_label(sexo_jefe)) %>% # para que las lea como factor\n  tabyl(clase_hog, sexo_jefe, show_missing_levels = F ) %>% # incluimos aquí dos variable\n  adorn_totals(c(\"col\", \"row\")) \n\n    clase_hog Hombre Mujer Total\n  unipersonal   6519  5367 11886\n      nuclear  41919 13621 55540\n     ampliado  12898  8888 21786\n    compuesto    372   211   583\n corresidente    197   110   307\n        Total  61905 28197 90102\n\n\nDel mismo modo, podemos calcular los porcentajes. Pero los podemos calcular de tres formas. Uno es que lo calculemos para los totales calculados para las filas, para las columnas o para el gran total poblacional.\nPara columnas tenemos el siguiente código y los siguientes resultados:\n\nconcentradohogar %>% \n  mutate(clase_hog = as_label(clase_hog)) %>% \n  mutate(sexo_jefe = as_label(sexo_jefe)) %>% # para que las lea como factor\n  tabyl(clase_hog, sexo_jefe, show_missing_levels = F ) %>% # incluimos aquí dos variable\n  adorn_totals(c(\"col\", \"row\")) %>% \n  adorn_percentages(\"col\") %>% # Divide los valores entre el total de la columna\n  adorn_pct_formatting() # lo vuelve porcentaje\n\n    clase_hog Hombre  Mujer  Total\n  unipersonal  10.5%  19.0%  13.2%\n      nuclear  67.7%  48.3%  61.6%\n     ampliado  20.8%  31.5%  24.2%\n    compuesto   0.6%   0.7%   0.6%\n corresidente   0.3%   0.4%   0.3%\n        Total 100.0% 100.0% 100.0%\n\n\nCuando se hagan cuadros de distribuciones (que todas sus partes suman 100), los porcentajes pueden ser una gran ayuda para la interpretación, sobre todos cuando se comparar poblaciones de categorías de diferente tamaño. Por lo general, queremos que los cuadros nos den información de donde están los totales y su 100%, de esta manera el lector se puede guiar de porcentaje con respecto a qué está leyendo. En este caso, vemos que el 100% es común en la última fila.\nVeamos la diferencia de cómo podemos leer la misma celda, pero hoy, hemos calculado los porcentajes a nivel de fila:\n\nconcentradohogar %>% \n  mutate(clase_hog = as_label(clase_hog)) %>% \n  mutate(sexo_jefe = as_label(sexo_jefe)) %>% # para que las lea como factor\n  tabyl(clase_hog, sexo_jefe, show_missing_levels = F ) %>% # incluimos aquí dos variable\n  adorn_totals(c(\"col\", \"row\")) %>% \n  adorn_percentages(\"row\") %>% # Divide los valores entre el total de la fila\n  adorn_pct_formatting() # lo vuelve porcentaje\n\n    clase_hog Hombre Mujer  Total\n  unipersonal  54.8% 45.2% 100.0%\n      nuclear  75.5% 24.5% 100.0%\n     ampliado  59.2% 40.8% 100.0%\n    compuesto  63.8% 36.2% 100.0%\n corresidente  64.2% 35.8% 100.0%\n        Total  68.7% 31.3% 100.0%\n\n\nFinalmente, podemos calcular los porcentajes con referencia a la población total en análisis. Es decir la celda en la esquina inferior derecha de nuestra tabla original.\n\nconcentradohogar %>% \n  mutate(clase_hog = as_label(clase_hog)) %>% \n  mutate(sexo_jefe = as_label(sexo_jefe)) %>% # para que las lea como factor\n  tabyl(clase_hog, sexo_jefe, show_missing_levels = F ) %>% # incluimos aquí dos variable\n  adorn_totals(c(\"col\", \"row\")) %>% \n  adorn_percentages(\"all\") %>% # Divide los valores entre el total de la población\n  adorn_pct_formatting() # lo vuelve porcentaje\n\n    clase_hog Hombre Mujer  Total\n  unipersonal   7.2%  6.0%  13.2%\n      nuclear  46.5% 15.1%  61.6%\n     ampliado  14.3%  9.9%  24.2%\n    compuesto   0.4%  0.2%   0.6%\n corresidente   0.2%  0.1%   0.3%\n        Total  68.7% 31.3% 100.0%"
  },
  {
    "objectID": "P3.html#factores-de-expansión-y-algunas-otras-medidas",
    "href": "P3.html#factores-de-expansión-y-algunas-otras-medidas",
    "title": "3  Revisión de elementos estadísticos básicos",
    "section": "3.3 Factores de expansión y algunas otras medidas",
    "text": "3.3 Factores de expansión y algunas otras medidas\n\n3.3.1 La función tally()\nEl comando tabyl() del paquete {janitor} es muy útil pero no es compatible con los factores del expansión. En realidad, tabyl() nos ahorra un poco el hecho de tener que agrupar nuestra base en categorías y luego hacer un conteo para cada una de ellas. tally() es un comando que nos hace ese conteo y group_by() nos agrupa las observaciones de nuestra base de datos para hacer cualquier operación.\n\nconcentradohogar %>% \n group_by(as_label(sexo_jefe)) %>% \n  tally(factor) %>% #nombre del factor\n  adorn_totals()  # Agrega total\n\n as_label(sexo_jefe)        n\n              Hombre 25397559\n               Mujer 12162564\n               Total 37560123\n\n\nPodemos usar funciones de adorns... de `{janitor}\n\nconcentradohogar %>% \n group_by(as_label(sexo_jefe)) %>% \n  tally(factor) %>% #nombre del factor\n  adorn_totals() %>% # Agrega total\n  adorn_percentages(\"all\")  %>% \n  adorn_pct_formatting()\n\n as_label(sexo_jefe)      n\n              Hombre  67.6%\n               Mujer  32.4%\n               Total 100.0%\n\n\n\n\n3.3.2 Con dplyr::count()\nLa función count() también permite dar pesos a la operaciones de frecuencias, con el argumento wt =\n\nconcentradohogar %>% \n  count(sexo_jefe, clase_hog,  wt = factor) \n\n# A tibble: 10 × 3\n   sexo_jefe clase_hog        n\n       <dbl>     <dbl>    <dbl>\n 1         1         1  2560548\n 2         1         2 17303329\n 3         1         3  5324985\n 4         1         4   132517\n 5         1         5    76180\n 6         2         1  2316541\n 7         2         2  5769256\n 8         2         3  3932043\n 9         2         4    96921\n10         2         5    47803\n\n\nEs compatible con etiquetas\n\nconcentradohogar %>% \n  count(as_label(sexo_jefe), as_label(clase_hog),  wt = factor) \n\n# A tibble: 10 × 3\n   `as_label(sexo_jefe)` `as_label(clase_hog)`        n\n   <fct>                 <fct>                    <dbl>\n 1 Hombre                unipersonal            2560548\n 2 Hombre                nuclear               17303329\n 3 Hombre                ampliado               5324985\n 4 Hombre                compuesto               132517\n 5 Hombre                corresidente             76180\n 6 Mujer                 unipersonal            2316541\n 7 Mujer                 nuclear                5769256\n 8 Mujer                 ampliado               3932043\n 9 Mujer                 compuesto                96921\n10 Mujer                 corresidente             47803\n\n\n\n\n3.3.3 con {pollster}\nPara una variable\n\n# tabulado simple con factor de expansión\n\nconcentradohogar %>% \n  dplyr::mutate(sexo_jefe = sjlabelled::as_label(sexo_jefe)) %>% \n  pollster::topline(sexo_jefe , weight = factor)\n\n# A tibble: 2 × 5\n  Response Frequency Percent `Valid Percent` `Cumulative Percent`\n  <fct>        <dbl>   <dbl>           <dbl>                <dbl>\n1 Hombre    25397559    67.6            67.6                 67.6\n2 Mujer     12162564    32.4            32.4                100  \n\n\nPara dos variables\n\n# tabulado simple con factor de expansión\n\nconcentradohogar %>% \n  dplyr::mutate(sexo_jefe = sjlabelled::as_label(sexo_jefe)) %>% \n  dplyr::mutate(clase_hog = sjlabelled::as_label(clase_hog)) %>% \n  pollster::crosstab(sexo_jefe, clase_hog, weight = factor)\n\n# A tibble: 2 × 7\n  sexo_jefe unipersonal nuclear ampliado compuesto corresidente        n\n  <fct>           <dbl>   <dbl>    <dbl>     <dbl>        <dbl>    <dbl>\n1 Hombre           10.1    68.1     21.0     0.522        0.300 25397559\n2 Mujer            19.0    47.4     32.3     0.797        0.393 12162564"
  },
  {
    "objectID": "P3.html#descriptivos-para-variables-cuantitativas",
    "href": "P3.html#descriptivos-para-variables-cuantitativas",
    "title": "3  Revisión de elementos estadísticos básicos",
    "section": "3.4 Descriptivos para variables cuantitativas",
    "text": "3.4 Descriptivos para variables cuantitativas\n\n3.4.1 Medidas numéricas básicas\n5 números\n\nsummary(concentradohogar$ing_cor) ## educación\n\n   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. \n      0   28386   46074   61490   74344 7153770 \n\n\nCon pipes se pueden crear “indicadores” de nuestras variables es un tibble\n\nconcentradohogar %>% \n  summarise(nombre_indicador=mean(ing_cor, na.rm=T))\n\n# A tibble: 1 × 1\n  nombre_indicador\n             <dbl>\n1           61490.\n\n\n\n\n3.4.2 Histograma básico\n\nhist(concentradohogar$ing_cor)\n\n\n\n\nLe podemos modificar el título del eje de las x y de las y\n\nhist(concentradohogar$ing_cor, \n     main=\"Histograma de escolaridad\", \n     xlab=\"Años aprobados\", ylab=\"Frecuencia\") \n\n\n\n\n¡A ponerle colorcitos! Aquí hay una lista http://www.stat.columbia.edu/~tzheng/files/Rcolor.pdf\n\nhist(concentradohogar$ing_cor, \n     main=\"Histograma de escolaridad\",\n     xlab=\"Años aprobados\", \n     ylab=\"Frecuencia\", col=\"deeppink1\") \n\n\n\n\nCon pipes:\n\nconcentradohogar %>% \n    with(hist(ing_cor)) # con with, para que entienda\n\n\n\n\nCuando usamos pipes, se debe de recordar que no es necesario escribir el nombre del data.frame en el filtro porque es lo primero que colocamos en nuestro “pipe”.\nCheca que cualquier aditamiento debe ir en el pipe donde está el comando de hist(). Ten cuidado con los paréntesis.\n\nconcentradohogar %>% \n  filter(!is.na(ing_cor)) %>% # la ventaja de esta forma es que podemos hacer más operaciones\n    with(hist(ing_cor, main= \"histograma\"))"
  },
  {
    "objectID": "P3.html#recodificación-de-variables",
    "href": "P3.html#recodificación-de-variables",
    "title": "3  Revisión de elementos estadísticos básicos",
    "section": "3.5 Recodificación de variables",
    "text": "3.5 Recodificación de variables\nPor ejemplo, si quisiéramos hacer una variable que separara a los hogares de acuerdo al grupo etario del jefe\n\n3.5.1 dplyr::if_else()\n\nconcentradohogar %<>% \n  mutate(joven=dplyr::if_else(edad_jefe<30, 1, 0))\n\nconcentradohogar %>% tabyl(edad_jefe,joven)\n\n edad_jefe    0    1\n        13    0    2\n        14    0    3\n        15    0   10\n        16    0   10\n        17    0   29\n        18    0  125\n        19    0  152\n        20    0  220\n        21    0  306\n        22    0  451\n        23    0  561\n        24    0  634\n        25    0  794\n        26    0  828\n        27    0 1015\n        28    0 1183\n        29    0 1180\n        30 1458    0\n        31 1280    0\n        32 1554    0\n        33 1488    0\n        34 1481    0\n        35 1665    0\n        36 1675    0\n        37 1652    0\n        38 1932    0\n        39 1751    0\n        40 2067    0\n        41 1571    0\n        42 2265    0\n        43 1903    0\n        44 1762    0\n        45 2080    0\n        46 1830    0\n        47 2066    0\n        48 2076    0\n        49 2022    0\n        50 2436    0\n        51 1746    0\n        52 2286    0\n        53 1936    0\n        54 1966    0\n        55 1810    0\n        56 1917    0\n        57 1839    0\n        58 1775    0\n        59 1617    0\n        60 1880    0\n        61 1373    0\n        62 1851    0\n        63 1633    0\n        64 1457    0\n        65 1697    0\n        66 1289    0\n        67 1396    0\n        68 1333    0\n        69 1036    0\n        70 1157    0\n        71  808    0\n        72 1136    0\n        73  965    0\n        74  858    0\n        75  903    0\n        76  704    0\n        77  712    0\n        78  785    0\n        79  520    0\n        80  628    0\n        81  372    0\n        82  537    0\n        83  370    0\n        84  398    0\n        85  364    0\n        86  298    0\n        87  257    0\n        88  197    0\n        89  150    0\n        90  152    0\n        91   87    0\n        92  105    0\n        93   89    0\n        94   47    0\n        95   36    0\n        96   33    0\n        97   21    0\n        98   21    0\n        99   20    0\n       100    7    0\n       101    1    0\n       102    6    0\n       103    1    0\n       104    1    0\n       106    1    0\n       109    1    0\n\n\n\n\n3.5.2 dplyr::case_when()\nEsto nos ayuda para recodificación múltiple\n\nconcentradohogar %<>% \n  mutate(grupo_edad2=dplyr::case_when(edad_jefe<30 ~ 1,\n                                      edad_jefe>29 & edad_jefe<45 ~ 2,\n                                      edad_jefe>44 & edad_jefe<65 ~ 3,\n                                      edad_jefe>64 ~ 4))\n\n#TRUE~ 4\n\nconcentradohogar %>% tabyl(edad_jefe,grupo_edad2)\n\n edad_jefe    1    2    3    4\n        13    2    0    0    0\n        14    3    0    0    0\n        15   10    0    0    0\n        16   10    0    0    0\n        17   29    0    0    0\n        18  125    0    0    0\n        19  152    0    0    0\n        20  220    0    0    0\n        21  306    0    0    0\n        22  451    0    0    0\n        23  561    0    0    0\n        24  634    0    0    0\n        25  794    0    0    0\n        26  828    0    0    0\n        27 1015    0    0    0\n        28 1183    0    0    0\n        29 1180    0    0    0\n        30    0 1458    0    0\n        31    0 1280    0    0\n        32    0 1554    0    0\n        33    0 1488    0    0\n        34    0 1481    0    0\n        35    0 1665    0    0\n        36    0 1675    0    0\n        37    0 1652    0    0\n        38    0 1932    0    0\n        39    0 1751    0    0\n        40    0 2067    0    0\n        41    0 1571    0    0\n        42    0 2265    0    0\n        43    0 1903    0    0\n        44    0 1762    0    0\n        45    0    0 2080    0\n        46    0    0 1830    0\n        47    0    0 2066    0\n        48    0    0 2076    0\n        49    0    0 2022    0\n        50    0    0 2436    0\n        51    0    0 1746    0\n        52    0    0 2286    0\n        53    0    0 1936    0\n        54    0    0 1966    0\n        55    0    0 1810    0\n        56    0    0 1917    0\n        57    0    0 1839    0\n        58    0    0 1775    0\n        59    0    0 1617    0\n        60    0    0 1880    0\n        61    0    0 1373    0\n        62    0    0 1851    0\n        63    0    0 1633    0\n        64    0    0 1457    0\n        65    0    0    0 1697\n        66    0    0    0 1289\n        67    0    0    0 1396\n        68    0    0    0 1333\n        69    0    0    0 1036\n        70    0    0    0 1157\n        71    0    0    0  808\n        72    0    0    0 1136\n        73    0    0    0  965\n        74    0    0    0  858\n        75    0    0    0  903\n        76    0    0    0  704\n        77    0    0    0  712\n        78    0    0    0  785\n        79    0    0    0  520\n        80    0    0    0  628\n        81    0    0    0  372\n        82    0    0    0  537\n        83    0    0    0  370\n        84    0    0    0  398\n        85    0    0    0  364\n        86    0    0    0  298\n        87    0    0    0  257\n        88    0    0    0  197\n        89    0    0    0  150\n        90    0    0    0  152\n        91    0    0    0   87\n        92    0    0    0  105\n        93    0    0    0   89\n        94    0    0    0   47\n        95    0    0    0   36\n        96    0    0    0   33\n        97    0    0    0   21\n        98    0    0    0   21\n        99    0    0    0   20\n       100    0    0    0    7\n       101    0    0    0    1\n       102    0    0    0    6\n       103    0    0    0    1\n       104    0    0    0    1\n       106    0    0    0    1\n       109    0    0    0    1\n\n\n\n\n3.5.3 dplyr::rename()\nPara cambiar los nombres de las variables podemos cambiarlos nombres\n\nconcentradohogar %<>%\n  dplyr::rename(nuevo_nombre=grupo_edad2)\n\nEsto en base sería similar a\n\nnames(concentradohogar)[128]<-\"grupo_edad2\"\nnames(concentradohogar)\n\n  [1] \"folioviv\"    \"foliohog\"    \"ubica_geo\"   \"tam_loc\"     \"est_socio\"  \n  [6] \"est_dis\"     \"upm\"         \"factor\"      \"clase_hog\"   \"sexo_jefe\"  \n [11] \"edad_jefe\"   \"educa_jefe\"  \"tot_integ\"   \"hombres\"     \"mujeres\"    \n [16] \"mayores\"     \"menores\"     \"p12_64\"      \"p65mas\"      \"ocupados\"   \n [21] \"percep_ing\"  \"perc_ocupa\"  \"ing_cor\"     \"ingtrab\"     \"trabajo\"    \n [26] \"sueldos\"     \"horas_extr\"  \"comisiones\"  \"aguinaldo\"   \"indemtrab\"  \n [31] \"otra_rem\"    \"remu_espec\"  \"negocio\"     \"noagrop\"     \"industria\"  \n [36] \"comercio\"    \"servicios\"   \"agrope\"      \"agricolas\"   \"pecuarios\"  \n [41] \"reproducc\"   \"pesca\"       \"otros_trab\"  \"rentas\"      \"utilidad\"   \n [46] \"arrenda\"     \"transfer\"    \"jubilacion\"  \"becas\"       \"donativos\"  \n [51] \"remesas\"     \"bene_gob\"    \"transf_hog\"  \"trans_inst\"  \"estim_alqu\" \n [56] \"otros_ing\"   \"gasto_mon\"   \"alimentos\"   \"ali_dentro\"  \"cereales\"   \n [61] \"carnes\"      \"pescado\"     \"leche\"       \"huevo\"       \"aceites\"    \n [66] \"tuberculo\"   \"verduras\"    \"frutas\"      \"azucar\"      \"cafe\"       \n [71] \"especias\"    \"otros_alim\"  \"bebidas\"     \"ali_fuera\"   \"tabaco\"     \n [76] \"vesti_calz\"  \"vestido\"     \"calzado\"     \"vivienda\"    \"alquiler\"   \n [81] \"pred_cons\"   \"agua\"        \"energia\"     \"limpieza\"    \"cuidados\"   \n [86] \"utensilios\"  \"enseres\"     \"salud\"       \"atenc_ambu\"  \"hospital\"   \n [91] \"medicinas\"   \"transporte\"  \"publico\"     \"foraneo\"     \"adqui_vehi\" \n [96] \"mantenim\"    \"refaccion\"   \"combus\"      \"comunica\"    \"educa_espa\" \n[101] \"educacion\"   \"esparci\"     \"paq_turist\"  \"personales\"  \"cuida_pers\" \n[106] \"acces_pers\"  \"otros_gas\"   \"transf_gas\"  \"percep_tot\"  \"retiro_inv\" \n[111] \"prestamos\"   \"otras_perc\"  \"ero_nm_viv\"  \"ero_nm_hog\"  \"erogac_tot\" \n[116] \"cuota_viv\"   \"mater_serv\"  \"material\"    \"servicio\"    \"deposito\"   \n[121] \"prest_terc\"  \"pago_tarje\"  \"deudas\"      \"balance\"     \"otras_erog\" \n[126] \"smg\"         \"joven\"       \"grupo_edad2\""
  },
  {
    "objectID": "P3.html#ejercicio-3",
    "href": "P3.html#ejercicio-3",
    "title": "3  Revisión de elementos estadísticos básicos",
    "section": "3.6 Ejercicio 3",
    "text": "3.6 Ejercicio 3\n\nGenere una tabla de frecuencias o una tabla de estadísticas con su conjunto de datos con al menos dos variables\nRecuerde respetar las características de sus variables.\n\nEnvíelo al siguiente formulario"
  },
  {
    "objectID": "videos.html#sesión-1",
    "href": "videos.html#sesión-1",
    "title": "Videos y extras",
    "section": "Sesión 1",
    "text": "Sesión 1\n\nCódigo"
  },
  {
    "objectID": "videos.html#sesión-2",
    "href": "videos.html#sesión-2",
    "title": "Videos y extras",
    "section": "Sesión 2",
    "text": "Sesión 2\n\nCódigo\nSitio web demos"
  },
  {
    "objectID": "videos.html#cheatsheets",
    "href": "videos.html#cheatsheets",
    "title": "Videos y extras",
    "section": "Cheatsheets",
    "text": "Cheatsheets\n\n{dplyr}\nLa puedes descargar de aquí"
  }
]